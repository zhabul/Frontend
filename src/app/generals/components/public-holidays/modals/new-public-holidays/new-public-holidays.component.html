<div class="bg-white default-moment-wrapper">
  <div class="d-flex align-items-center justify-content-between">
    <h1 class="h4 mb-0">
      {{ "New holiday" | translate }}
    </h1>
    <button class="btn btn-outline-dark" [mat-dialog-close]>
      <i class="material-icons">close</i>
    </button>
  </div>
  <div class="col-lg-12 bg-white p-4">
    <form
      novalidate
      autocomplete="off"
      [formGroup]="createForm"
      (ngSubmit)="create()"
      #myform="ngForm"
    >
      <div class="form-row-content">
        <div class="form-group">
          <label class="required" for="name">{{ "Name" | translate }}</label>
          <input
            type="text"
            class="form-control"
            id="name"
            placeholder="{{ 'Holiday name' | translate }}"
            formControlName="name"
            [ngClass]="{
              'is-invalid':
                (myform.submitted && createForm.get('name').invalid) ||
                (createForm.get('name').dirty && createForm.get('name').invalid)
            }"
          />
          <span
            class="help-block"
            *ngIf="
              (myform.submitted && createForm.get('name').invalid) ||
              (createForm.get('name').dirty && createForm.get('name').invalid)
            "
          >
            <span
              *ngIf="createForm.get('name').errors.required"
              class="text-danger"
            >
              {{ "Please enter holiday name" | translate }}.
            </span>
          </span>
        </div>
        <div class="form-group">
          <label for="hours">{{ "Hours" | translate }}</label>
          <input
            type="number"
            class="form-control"
            id="name"
            placeholder="{{ 'Hours' | translate }}"
            formControlName="hours"
            [ngClass]="{
              'is-invalid':
                (myform.submitted && createForm.get('name').invalid) ||
                (createForm.get('name').dirty &&
                  createForm.get('hours').invalid)
            }"
          />
          <span
            class="help-block"
            *ngIf="
              (myform.submitted && createForm.get('hours').invalid) ||
              (createForm.get('hours').dirty && createForm.get('hours').invalid)
            "
          >
            <span
              *ngIf="createForm.get('hours').errors.required"
              class="text-danger"
            >
              {{ "Hours required" | translate }}.
            </span>
          </span>
        </div>
      </div>
      <div class="form-row-content">
        <div class="form-group">
          <label class="required">{{ "Start date" | translate }}</label>
          <div class="input-group date">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1"
                ><i class="material-icons">calendar_today</i></span
              >
            </div>
            <input
              (keydown)="$event.preventDefault()"
              id="dateSelectStartDate"
              autocomplete="off"
              type="text"
              class="form-control project-date"
              aria-describedby="basic-addon1"
              placeholder="{{ 'Choose Start Date' | translate }}"
              #StartDate
              formControlName="start_date"
              name="start_date"
              [ngClass]="{
                'is-invalid':
                  (myform.submitted && createForm.get('start_date').invalid) ||
                  (createForm.get('start_date').dirty &&
                    createForm.get('start_date').invalid)
              }"
            />
          </div>
          <span
            class="help-block"
            *ngIf="
              (myform.submitted && createForm.get('start_date').invalid) ||
              (createForm.get('start_date').dirty &&
                createForm.get('start_date').invalid)
            "
          >
            <span class="text-danger">
              {{ "Start date is required" | translate }}.
            </span>
          </span>
        </div>
        <div class="form-group">
          <label class="required">{{ "End date" | translate }}</label>
          <div class="input-group date">
            <div class="input-group-prepend">
              <span class="input-group-text" id="basic-addon1"
                ><i class="material-icons">calendar_today</i></span
              >
            </div>
            <input
              (keydown)="$event.preventDefault()"
              id="dateSelectEndDate"
              autocomplete="off"
              type="text"
              class="form-control project-date"
              aria-describedby="basic-addon1"
              placeholder="{{ 'Choose End Date' | translate }}"
              #EndDate
              formControlName="end_date"
              name="end_date"
              [ngClass]="{
                'is-invalid':
                  (myform.submitted && createForm.get('end_date').invalid) ||
                  (createForm.get('end_date').dirty &&
                    createForm.get('end_date').invalid)
              }"
            />
          </div>
          <span
            class="help-block"
            *ngIf="
              (myform.submitted && createForm.get('end_date').invalid) ||
              (createForm.get('end_date').dirty &&
                createForm.get('end_date').invalid)
            "
          >
            <span class="text-danger">
              {{ "End date is required" | translate }}.
            </span>
          </span>
        </div>
      </div>
      <div class="form-group btn-position mt-2">
        <button
          type="submit"
          class="btn btn-success lh09 mr-auto"
          [disabled]="myform.submitted && createForm.invalid"
        >
          <span class="material-icons left-3px top1px posRel">save</span>
          <span class="posRel top-5px">{{ "Create" | translate }}</span>
        </button>
      </div>
    </form>
  </div>
</div>
<div class="progress-loader" *ngIf="spinner">
  <mat-spinner></mat-spinner>
</div>
