<div class="container-m attachment-wrapper" style="max-width: 1460px; display: flex; flex-direction: row;" *ngIf="currentStep == 'step1' || currentStep == 'step4'">
    <div class="header-wrappper">
        <div class="svg-wrapper">
            <svg id="Component_261" data-name="Component 261" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="55.952" height="69.77" viewBox="0 0 55.952 69.77">
                <defs>
                  <clipPath id="clip-path">
                    <rect id="Rectangle_17487" data-name="Rectangle 17487" width="55.952" height="69.77" fill="none"/>
                  </clipPath>
                </defs>
                <g id="Group_7364" data-name="Group 7364">
                    <g id="Group_7363" data-name="Group 7363" clip-path="url(#clip-path)">
                        <path id="Path_5028" data-name="Path 5028" d="M183.564,180.167a1.383,1.383,0,0,0,1.271.8c1.041,0,1.734-.353,1.734-2.076a4.662,4.662,0,0,0-.235-1.469c-.049-.158-.119-.326-.325-.326a.985.985,0,0,0-.3.086l-.038.015a.262.262,0,0,0-.174.263.69.69,0,0,0,.051.22c.014.039.029.082.041.128a3.555,3.555,0,0,1,.126.942c0,1.034-.294,1.216-.911,1.216-.44,0-.85-.161-.868-1.336a.428.428,0,0,0-.446-.479c-.384,0-.429.277-.429.482h0c-.02.967-.185,1.491-1,1.491-.649,0-1.051-.235-1.051-1.4a3.522,3.522,0,0,1,.09-.923c.008-.029.015-.056.023-.082a1.041,1.041,0,0,0,.053-.268.3.3,0,0,0-.165-.283l-.016-.007a1.348,1.348,0,0,0-.362-.093c-.2,0-.284.165-.335.331a4.872,4.872,0,0,0-.145,1.334c0,1.6.633,2.385,1.935,2.385a1.451,1.451,0,0,0,1.479-.953" transform="translate(-130.652 -128.419)" fill="#ff7000"/>
                        <path id="Path_5030" data-name="Path 5030" d="M184.256,200.954a3,3,0,0,0-.369-1.539c1.317.135,1.824.408,1.824,1.805a4.751,4.751,0,0,1-.059.741l0,.011c0,.025-.008.054-.013.085a1.279,1.279,0,0,0-.023.2.279.279,0,0,0,.176.255l.057.017a1.607,1.607,0,0,0,.319.07.283.283,0,0,0,.271-.213,4.435,4.435,0,0,0,.132-1.2c0-2.59-1.77-2.807-3.583-2.807-1.936,0-2.838.735-2.838,2.312,0,1.506.727,2.3,2.1,2.3s2.006-.631,2.006-2.046M181,200.745a1.153,1.153,0,0,1,1.064-1.3h0a3.774,3.774,0,0,1,.6-.045.546.546,0,0,1,.3.064,1.758,1.758,0,0,1,.449,1.392c0,.8-.351,1.161-1.139,1.161-.89,0-1.27-.381-1.27-1.275" transform="translate(-130.651 -143.877)" fill="#ff7000"/>
                        <path id="Path_5032" data-name="Path 5032" d="M185.961,225.568a2.142,2.142,0,0,0,.607-1.783c0-1.741-.934-2.451-3.223-2.451-2.36,0-3.2.619-3.2,2.365,0,1.781.855,2.413,3.267,2.413a4.092,4.092,0,0,0,2.546-.544m-4.956-1.859c0-.821.164-1.359,2.357-1.359,2.171,0,2.348.633,2.348,1.4,0,.917-.226,1.349-2.3,1.349-2.247,0-2.409-.524-2.409-1.387" transform="translate(-130.651 -160.521)" fill="#ff7000"/>
                        <path id="Path_5034" data-name="Path 5034" d="M9.408,184.631l-2.584-.71c-2.916-.771-3.434-1.649-3.434-2.482,0-1.272.758-2.449,4.265-2.449a19.286,19.286,0,0,1,3.977.419c.074.011.156.025.238.04a1.071,1.071,0,0,0,1.311-.85,1,1,0,0,0-.676-1.325,23.976,23.976,0,0,0-4.813-.454c-4.5,0-6.785,1.608-6.785,4.78,0,2.221,1.357,3.646,4.149,4.358l2.915.774c2.784.75,3.509,1.317,3.509,2.386,0,.762-.275,2.545-4.487,2.545a20.366,20.366,0,0,1-5.145-.82l-.152-.046a1.055,1.055,0,0,0-1.471.652c-.236.726-.015,1.231.361,1.363a21.625,21.625,0,0,0,6.333,1.054c3.2,0,7.007-.835,7.007-4.812,0-2.678-1.656-3.65-4.517-4.423" transform="translate(-0.092 -128.237)" fill="#e67314"/>
                        <path id="Path_5035" data-name="Path 5035" d="M129.373,184.507l-2.585-.71c-3-.795-3.408-1.684-3.408-2.449,0-1.647,1.344-2.414,4.231-2.414a19.3,19.3,0,0,1,3.978.42c.061.009.134.021.207.034l.026,0a1.1,1.1,0,0,0,1.35-.875,1.214,1.214,0,0,0-.109-.943.938.938,0,0,0-.593-.424,24.011,24.011,0,0,0-4.821-.455c-4.526,0-6.82,1.62-6.82,4.814,0,2.239,1.365,3.675,4.173,4.391l2.915.775c2.962.8,3.483,1.394,3.483,2.353,0,2.075-2.421,2.51-4.453,2.51a20.339,20.339,0,0,1-5.135-.819l-.152-.046c-.774-.239-1.291-.01-1.514.675-.254.784.018,1.278.378,1.4a21.689,21.689,0,0,0,6.349,1.058c3.212,0,7.041-.841,7.041-4.846,0-2.7-1.665-3.678-4.542-4.456" transform="translate(-87.063 -128.147)" fill="#ff7000"/>
                        <path id="Path_5036" data-name="Path 5036" d="M9.326,184.507,6.74,183.8c-3-.795-3.408-1.684-3.408-2.449,0-1.647,1.344-2.414,4.231-2.414a19.3,19.3,0,0,1,3.978.42c.061.009.134.021.207.034l.026,0a1.105,1.105,0,0,0,1.35-.875,1.214,1.214,0,0,0-.109-.943.938.938,0,0,0-.593-.424,24.011,24.011,0,0,0-4.821-.455c-4.526,0-6.82,1.62-6.82,4.814,0,2.239,1.365,3.675,4.173,4.391l2.915.775c2.962.8,3.483,1.394,3.483,2.353,0,2.075-2.421,2.51-4.453,2.51a20.338,20.338,0,0,1-5.135-.819l-.152-.046c-.774-.239-1.291-.01-1.514.675-.254.784.018,1.278.378,1.4a21.689,21.689,0,0,0,6.349,1.058c3.212,0,7.042-.841,7.042-4.846,0-2.7-1.665-3.678-4.542-4.456" transform="translate(0 -128.147)" fill="#ff7000"/>
                    </g>
                </g>
                <g id="Group_7366" data-name="Group 7366">
                    <g id="Group_7365" data-name="Group 7365" clip-path="url(#clip-path)">
                        <path id="Path_5037" data-name="Path 5037" d="M64.084,175.7a1.187,1.187,0,0,0-.707.227.863.863,0,0,0-.317.749v16.2a.573.573,0,0,0,.065.269l.023.033c.082.123.331.493,1.188.493a1.308,1.308,0,0,0,1.174-.488l.026-.033a.524.524,0,0,0,.076-.274v-4.083h4.879a10.041,10.041,0,0,0,2.923-.378c1.428-.441,3.825-1.855,3.825-6.366,0-5.718-4.709-6.262-5.246-6.305-.364-.029-.746-.044-1.137-.044Zm6.52,10.68H65.613V177.85h5.048a9.506,9.506,0,0,1,1.258.086c.723.1,2.787,1.049,2.787,4.051,0,3.383-1.694,3.942-2.251,4.126l-.062.021a5.576,5.576,0,0,1-1.788.245" transform="translate(-45.734 -127.424)" fill="#ff7000"/>
                    </g>
                </g>
                <g id="Group_7368" data-name="Group 7368">
                    <g id="Group_7367" data-name="Group 7367" clip-path="url(#clip-path)">
                        <path id="Path_5038" data-name="Path 5038" d="M28.7,45.173A22.586,22.586,0,1,1,51.282,22.586,22.612,22.612,0,0,1,28.7,45.173m0-42.882a20.3,20.3,0,1,0,20.3,20.3,20.318,20.318,0,0,0-20.3-20.3" transform="translate(-4.431)" fill="#ff7000"/>
                        <path id="Path_5039" data-name="Path 5039" d="M38.6,51.373l7.338,4.243,6.317-3.648,6.308,3.648,7.342-4.24.012-8.485L59.6,39.242V31.93L52.27,27.688l-7.35,4.241v7.319l-6.314,3.644Zm19.962,1.859L53.3,50.181v-6.1l5.286-3.05,5.276,3.051-.012,6.1Zm-12.625,0L40.67,50.181v-6.1l5.286-3.05,5.27,3.051v6.1Zm6.315-10.963-5.272-3.051v-6.1l5.286-3.05,5.269,3.051v6.1Z" transform="translate(-27.998 -20.08)" fill="#ff7000"/>
                    </g>
                </g>
            </svg>
            <button class="btn-primary-1" (click)="downloadAllDocuments()">
                <span>{{'LADDA NER ALLA' | translate}}</span>
                <span class="btn-svg">
                    <svg id="Group_11312" data-name="Group 11312" xmlns="http://www.w3.org/2000/svg" width="22.073" height="37.265" viewBox="0 0 22.073 37.265">
                        <g id="Component_260_6" data-name="Component 260 – 6">
                            <path id="Path_4767" data-name="Path 4767" d="M28.663,45.373a.476.476,0,0,0,.5-.5v-2.3h.688a5.452,5.452,0,0,0,1.393-.15,1.952,1.952,0,0,0,1.449-2.049,1.9,1.9,0,0,0-1.135-1.956,5.01,5.01,0,0,0-1.753-.225h-.821a1.021,1.021,0,0,0-1.127,1.171V44.87a.467.467,0,0,0,.483.5Zm.5-5.9c0-.022,0-.039,0-.053h.686a3.023,3.023,0,0,1,1.1.124c.213.091.411.258.411.865a.832.832,0,0,1-.421.828,2.88,2.88,0,0,1-1.032.123h-.743Z" transform="translate(-24.342 -21.077)" fill="#fff"/>
                            <path id="Path_4768" data-name="Path 4768" d="M36.333,45.355a5.932,5.932,0,0,0,1.8-.242c1.693-.623,1.889-2.247,1.889-3.414,0-1.842-.627-2.959-1.861-3.318a6.122,6.122,0,0,0-1.756-.188h-.8a1.018,1.018,0,0,0-1.146,1.171v4.848a1,1,0,0,0,1.128,1.144Zm-.569-5.871a.418.418,0,0,1,0-.053h.7a3.268,3.268,0,0,1,1.335.193c.611.287.883.926.883,2.074,0,1.222-.3,1.905-.955,2.212a3.075,3.075,0,0,1-1.236.194h-.691l-.038,0a.383.383,0,0,1-.005-.069Z" transform="translate(-25.969 -21.076)" fill="#fff"/>
                            <path id="Path_4769" data-name="Path 4769" d="M43.457,39.441h2.5a.453.453,0,0,0,.5-.476v-.287a.457.457,0,0,0-.5-.485H43.294c-.772,0-1.146.389-1.146,1.19V44.87a.462.462,0,0,0,.483.5h.331a.471.471,0,0,0,.492-.513V42.481h2.117a.458.458,0,0,0,.5-.476v-.287a.458.458,0,0,0-.5-.485H43.454V39.5A.49.49,0,0,1,43.457,39.441Z" transform="translate(-27.717 -21.077)" fill="#fff"/>
                            <g id="Order_pos" data-name="Order pos">
                                <path id="Path_4772" data-name="Path 4772" d="M31.426,15.768H23.234V48.915h4.287L26.156,47.56l-.023-.022-.021-.025a1.858,1.858,0,0,1-.346-.592h-.525V17.762h4.765V30.97H43.3V46.921h-.53a1.611,1.611,0,0,1-.4.6l-1.411,1.395h4.344V29.561Zm.588,13.209V19.171l9.868,9.806Z" transform="translate(-23.234 -15.768)" fill="#fff"/>
                            </g>
                            <g id="Group_7294" data-name="Group 7294" transform="translate(4.135 24.779)">
                                <path id="Path_4773" data-name="Path 4773" d="M31.365,53.9a1.027,1.027,0,0,0-.736-.406,1.009,1.009,0,0,0-.579.23l-.352.331a.842.842,0,0,0-.321.628.932.932,0,0,0,.268.593L35.6,61.263a.8.8,0,0,0,.631.262.837.837,0,0,0,.668-.281l6-6.009a.811.811,0,0,0,.279-.566.82.82,0,0,0-.3-.6l-.4-.351a.788.788,0,0,0-1.164.046c-1.536,1.585-2.77,2.868-3.67,3.815l-.32.337,0-.464c.017-2.269.017-2.152.017-7.468a.848.848,0,0,0-.866-.94h-.464a.836.836,0,0,0-.885.863l.014,7.975-.319-.345C34,56.639,32.838,55.421,31.365,53.9Z" transform="translate(-29.376 -49.038)" fill="#fff"/>
                            </g>
                        </g>
                      </svg>

                </span>
            </button>
        </div>
        <table class="table table-dark">
            <thead class="table-head-dark">
                <tr>
                    <th scope="col" colspan="3">
                        <span>{{'Images' | translate}}</span>
                        <svg id="Component_267_1" data-name="Component 267 – 1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="20.381" height="25.361" viewBox="0 0 20.381 25.361">
                            <defs>
                                <clipPath id="clip-path">
                                    <rect id="Rectangle_23617" data-name="Rectangle 23617" width="20.381" height="25.361" fill="none"/>
                                </clipPath>
                            </defs>
                            <g id="Group_11330" data-name="Group 11330" clip-path="url(#clip-path)">
                                <path id="Path_5351" data-name="Path 5351" d="M20.064,5.952a.72.72,0,0,0-.937.167L9.634,19.808c-1.482,2.138-6.713,4.763-7.7,4.167s-.56-6.13.921-8.268L12.384,1.966a1.516,1.516,0,0,1,2-.423l2.175,1.316a1.311,1.311,0,0,1,.4,1.891L8.88,16.4a1.522,1.522,0,0,1-2.01.433,1.31,1.31,0,0,1-.4-1.891l7.275-10.5a.619.619,0,0,0-.213-.883.719.719,0,0,0-.948.179l-7.277,10.5a2.581,2.581,0,0,0,.777,3.726,2.917,2.917,0,0,0,2.137.34,2.963,2.963,0,0,0,1.82-1.2L18.123,5.454a2.581,2.581,0,0,0-.777-3.726L15.171.412A2.877,2.877,0,0,0,13.619,0a3.066,3.066,0,0,0-.584.068,2.942,2.942,0,0,0-1.815,1.194L1.7,15c-1.478,2.132-2.665,8.818-.543,10.1.925.56,2.764.19,5.044-1.015a14.53,14.53,0,0,0,4.6-3.578L20.286,6.82a.62.62,0,0,0-.222-.868" transform="translate(0 0)" fill="#fff"/>
                            </g>
                        </svg>
                    </th>
                </tr>
            </thead>
            <tbody class="tbody-properties">
                <ng-container *ngIf="currentStep != 'alreadyAnswered'">
                    <ng-container *ngFor="let file of getAlbumFiles('50000', 'pdfs'); let index = index">
                        <tr>
                            <td class="first-td">
                            <!--
                                <svg xmlns="http://www.w3.org/2000/svg" width="57.75" height="40.578" viewBox="0 0 57.75 40.578">
                                    <g id="Group_11332" data-name="Group 11332" transform="translate(-471.995 -282.711)">
                                        <g id="Group_11293" data-name="Group 11293" transform="translate(471.995 282.711)">
                                            <g id="Group_11290" data-name="Group 11290" transform="translate(0 0)">
                                                <g id="Group_4287" data-name="Group 4287" transform="translate(0)">
                                                    <g id="Group_4062" data-name="Group 4062">
                                                        <g id="Skapad_mapp" data-name="Skapad mapp">
                                                            <path id="Path_754" data-name="Path 754" d="M69.131,23.563,42.687,23.5,39.429,20.5a2.1,2.1,0,0,0-1.731-.869H21.036c-3.337,0-6.043,1.933-6.043,4.977v32.4a3.374,3.374,0,0,0,3.508,3.2H69.131a3.374,3.374,0,0,0,3.508-3.2V26.761A3.374,3.374,0,0,0,69.131,23.563Z" transform="translate(-14.889 -19.629)" fill="#fff"/>
                                                            <path id="Path_755" data-name="Path 755" d="M69.131,23.064l-26.444-.051-3.259-2.625a2.216,2.216,0,0,0-1.731-.759H21.036c-3.337,0-6.043,1.688-6.043,4.345V52.265c0,1.536,1.579,2.792,3.508,2.792H69.131c1.929,0,3.508-1.256,3.508-2.792V25.856C72.639,24.32,71.06,23.064,69.131,23.064Z" transform="translate(-14.889 -19.629)" fill="#82a7e2" opacity="0.999"/>
                                                            <path id="Path_756" data-name="Path 756" d="M69.078,26.544H18.426a3.531,3.531,0,0,0-3.51,3.532l.077,26.8a3.5,3.5,0,0,0,.277,1.372,3.555,3.555,0,0,0,1.274,1.556,3.465,3.465,0,0,0,1.959.605H69.155a3.532,3.532,0,0,0,3.51-3.533l-.077-26.8A3.53,3.53,0,0,0,69.078,26.544Z" transform="translate(-14.916 -19.833)" fill="#82a7e2"/>
                                                        </g>
                                                    </g>
                                                </g>
                                            </g>
                                        </g>
                                        <g id="Group_11291" data-name="Group 11291" transform="translate(491.761 289.159)">
                                            <path id="Path_5349" data-name="Path 5349" d="M7.246,2.843l8.145,8.19H7.246ZM1.656,1.666H5.589V12.7H16.562V26.019H1.656ZM0,0V27.684H18.218V11.52L6.76,0Z" fill="#fff"/>
                                            <rect id="Rectangle_23610" data-name="Rectangle 23610" width="11.596" height="1.343" transform="translate(3.321 15.186)" fill="#fff"/>
                                            <rect id="Rectangle_23611" data-name="Rectangle 23611" width="11.596" height="1.343" transform="translate(3.321 18.517)" fill="#fff"/>
                                            <rect id="Rectangle_23612" data-name="Rectangle 23612" width="11.596" height="1.343" transform="translate(3.321 21.848)" fill="#fff"/>
                                        </g>
                                    </g>
                                </svg>
                            -->
                                <app-pdfjs-preview
                                    style="display: flex; cursor: pointer; width: 68px;"
                                    type="pdf"
                                    (click)="closeAndOpen(index, '50000', 'card-wrapper');"
                                    [pdfUrls]="[file['file_path']]"
                                    [deleted]=""
                                    [canRemove]="(getActiveDU() && getActiveDU().status == 0) || file.Category == '0'"
                                    [index]="index"
                                    [active]="index"
                                    [canvas_width]="35"
                                    [canvas_height]="22"
                                    [borderRadius]="'0px 0px 0px 0px'"
                                    [folder]="true"
                                    [svg_width]="35"
                                    [svg_height]="35"
                                ></app-pdfjs-preview>
                                <span>
                                    {{ file['name'] }}
                                </span>
                            </td>
                            <td class="second-td">
                                <svg (click)="downloadURI(file.Url, file.name)" id="Component_262_1" data-name="Component 262 – 1" xmlns="http://www.w3.org/2000/svg" width="22.073" height="37.265" viewBox="0 0 22.073 37.265">
                                    <g id="Component_260_1" data-name="Component 260 – 1">
                                        <g id="Order_pos" data-name="Order pos">
                                            <path id="Path_4772" data-name="Path 4772" d="M31.426,15.768H23.234V48.915h4.287L26.156,47.56l-.023-.022-.021-.025a1.858,1.858,0,0,1-.346-.592h-.525V17.762h4.765V30.97H43.3V46.921h-.53a1.611,1.611,0,0,1-.4.6l-1.411,1.395h4.344V29.561Zm.588,13.209V19.171l9.868,9.806Z" transform="translate(-23.234 -15.768)" fill="#373b40"/>
                                        </g>
                                        <g id="Group_7294" data-name="Group 7294" transform="translate(4.135 24.779)">
                                            <path id="Path_4773" data-name="Path 4773" d="M31.365,53.9a1.027,1.027,0,0,0-.736-.406,1.009,1.009,0,0,0-.579.23l-.352.331a.842.842,0,0,0-.321.628.932.932,0,0,0,.268.593L35.6,61.263a.8.8,0,0,0,.631.262.837.837,0,0,0,.668-.281l6-6.009a.811.811,0,0,0,.279-.566.82.82,0,0,0-.3-.6l-.4-.351a.788.788,0,0,0-1.164.046c-1.536,1.585-2.77,2.868-3.67,3.815l-.32.337,0-.464c.017-2.269.017-2.152.017-7.468a.848.848,0,0,0-.866-.94h-.464a.836.836,0,0,0-.885.863l.014,7.975-.319-.345C34,56.639,32.838,55.421,31.365,53.9Z" transform="translate(-29.376 -49.038)" fill="#373b40"/>
                                        </g>
                                    </g>
                                </svg>
                            </td>
                            <td class="second-td">
                                <svg (click)="printDocument('pdf', file.Url, file.name)" id="Component_263_1" data-name="Component 263 – 1" xmlns="http://www.w3.org/2000/svg" width="28.944" height="26.292" viewBox="0 0 28.944 26.292">
                                    <g id="Group_3988" data-name="Group 3988" transform="translate(9.51 7.142)">
                                        <rect id="Rectangle_15585" data-name="Rectangle 15585" width="9.844" height="1.14" transform="translate(0 2.828)" fill="#373b40"/>
                                        <rect id="Rectangle_15586" data-name="Rectangle 15586" width="9.844" height="1.14" fill="#373b40"/>
                                    </g>
                                    <path id="Path_1752" data-name="Path 1752" d="M43.825,20.43a1.459,1.459,0,0,0-1.455-1.462H16.335a1.459,1.459,0,0,0-1.454,1.462V32.849h5.5v1.1L31.632,45.26h6.641V32.92h5.553ZM17.706,30.459v-5.8h2.671v5.8ZM31.155,42.468l-8-8.044h8Zm1.628,1.156V32.789H22v-8.13H36.645V43.625ZM41,30.529H38.273v-5.87H41Z" transform="translate(-14.881 -18.968)" fill="#373b40"/>
                                </svg>
                            </td>
                        </tr>
                    </ng-container>
                </ng-container>
                <ng-container *ngIf="getAlbumKeys().length > 0">
                    <ng-container *ngFor="let albumKey of getAlbumKeys()">
                        <ng-container *ngIf="currentStep != 'alreadyAnswered'">
                            <ng-container *ngFor="let file of getAlbumFiles(albumKey, 'pdfs'); let index = index">
                                <tr>
                                    <td class="first-td">
                                        <app-pdfjs-preview
                                            style="display: flex; cursor: pointer; width: 68px;"
                                            type="pdf"
                                            (click)="closeAndOpen(index, albumKey, 'document-card');"
                                            [pdfUrls]="[file['file_path']]"
                                            [deleted]=""
                                            [canRemove]="false"
                                            [index]="index"
                                            [active]="index"
                                            [canvas_width]="35"
                                            [canvas_height]="22"
                                            [svg_width]="35"
                                            [svg_height]="35"
                                            [borderRadius]="'0px 0px 0px 0px'"
                                            [folder]="true"
                                        ></app-pdfjs-preview>
                                        <span>
                                            {{ file['name'] }}
                                        </span>
                                    </td>
                                    <td class="second-td">
                                        <svg id="Component_262_1" data-name="Component 262 – 1" xmlns="http://www.w3.org/2000/svg" width="22.073" height="37.265" viewBox="0 0 22.073 37.265">
                                            <g id="Component_260_1" data-name="Component 260 – 1">
                                                <g id="Order_pos" data-name="Order pos">
                                                    <path id="Path_4772" data-name="Path 4772" d="M31.426,15.768H23.234V48.915h4.287L26.156,47.56l-.023-.022-.021-.025a1.858,1.858,0,0,1-.346-.592h-.525V17.762h4.765V30.97H43.3V46.921h-.53a1.611,1.611,0,0,1-.4.6l-1.411,1.395h4.344V29.561Zm.588,13.209V19.171l9.868,9.806Z" transform="translate(-23.234 -15.768)" fill="#373b40"/>
                                                </g>
                                                <g id="Group_7294" data-name="Group 7294" transform="translate(4.135 24.779)">
                                                    <path id="Path_4773" data-name="Path 4773" d="M31.365,53.9a1.027,1.027,0,0,0-.736-.406,1.009,1.009,0,0,0-.579.23l-.352.331a.842.842,0,0,0-.321.628.932.932,0,0,0,.268.593L35.6,61.263a.8.8,0,0,0,.631.262.837.837,0,0,0,.668-.281l6-6.009a.811.811,0,0,0,.279-.566.82.82,0,0,0-.3-.6l-.4-.351a.788.788,0,0,0-1.164.046c-1.536,1.585-2.77,2.868-3.67,3.815l-.32.337,0-.464c.017-2.269.017-2.152.017-7.468a.848.848,0,0,0-.866-.94h-.464a.836.836,0,0,0-.885.863l.014,7.975-.319-.345C34,56.639,32.838,55.421,31.365,53.9Z" transform="translate(-29.376 -49.038)" fill="#373b40"/>
                                                </g>
                                            </g>
                                        </svg>
                                    </td>
                                    <td class="second-td">
                                        <svg (click)="printDocument(file.Url)" id="Component_263_1" data-name="Component 263 – 1" xmlns="http://www.w3.org/2000/svg" width="28.944" height="26.292" viewBox="0 0 28.944 26.292">
                                            <g id="Group_3988" data-name="Group 3988" transform="translate(9.51 7.142)">
                                                <rect id="Rectangle_15585" data-name="Rectangle 15585" width="9.844" height="1.14" transform="translate(0 2.828)" fill="#373b40"/>
                                                <rect id="Rectangle_15586" data-name="Rectangle 15586" width="9.844" height="1.14" fill="#373b40"/>
                                            </g>
                                            <path id="Path_1752" data-name="Path 1752" d="M43.825,20.43a1.459,1.459,0,0,0-1.455-1.462H16.335a1.459,1.459,0,0,0-1.454,1.462V32.849h5.5v1.1L31.632,45.26h6.641V32.92h5.553ZM17.706,30.459v-5.8h2.671v5.8ZM31.155,42.468l-8-8.044h8Zm1.628,1.156V32.789H22v-8.13H36.645V43.625ZM41,30.529H38.273v-5.87H41Z" transform="translate(-14.881 -18.968)" fill="#373b40"/>
                                        </svg>
                                    </td>
                                </tr>
                            </ng-container>
                            <ng-container *ngFor="let file of getAlbumFiles(albumKey, 'images');let index = index">
                                <tr>
                                    <td class="first-td">
                                        <app-file-preview
                                            type="image"
                                            [file]="file"
                                            [index]="index"
                                            [active]="index"
                                            modalType="external-du"
                                            width="30"
                                            (openSwiper)="openSwiper(index, getAlbumFiles(albumKey, 'images'), albumKey, 'image-card')"
                                            [canRemove]="(getActiveDU() && getActiveDU().status == 0) || file.Category == '0'"
                                        ></app-file-preview>
                                        <span>
                                            {{ file['file_name'] }}
                                        </span>
                                    </td>
                                    <td class="second-td">
                                        <svg (click)="downloadURI(file.Url, file.name)" id="Component_262_1" data-name="Component 262 – 1" xmlns="http://www.w3.org/2000/svg" width="22.073" height="37.265" viewBox="0 0 22.073 37.265">
                                            <g id="Component_260_1" data-name="Component 260 – 1">
                                                <g id="Order_pos" data-name="Order pos">
                                                    <path id="Path_4772" data-name="Path 4772" d="M31.426,15.768H23.234V48.915h4.287L26.156,47.56l-.023-.022-.021-.025a1.858,1.858,0,0,1-.346-.592h-.525V17.762h4.765V30.97H43.3V46.921h-.53a1.611,1.611,0,0,1-.4.6l-1.411,1.395h4.344V29.561Zm.588,13.209V19.171l9.868,9.806Z" transform="translate(-23.234 -15.768)" fill="#373b40"/>
                                                </g>
                                                <g id="Group_7294" data-name="Group 7294" transform="translate(4.135 24.779)">
                                                    <path id="Path_4773" data-name="Path 4773" d="M31.365,53.9a1.027,1.027,0,0,0-.736-.406,1.009,1.009,0,0,0-.579.23l-.352.331a.842.842,0,0,0-.321.628.932.932,0,0,0,.268.593L35.6,61.263a.8.8,0,0,0,.631.262.837.837,0,0,0,.668-.281l6-6.009a.811.811,0,0,0,.279-.566.82.82,0,0,0-.3-.6l-.4-.351a.788.788,0,0,0-1.164.046c-1.536,1.585-2.77,2.868-3.67,3.815l-.32.337,0-.464c.017-2.269.017-2.152.017-7.468a.848.848,0,0,0-.866-.94h-.464a.836.836,0,0,0-.885.863l.014,7.975-.319-.345C34,56.639,32.838,55.421,31.365,53.9Z" transform="translate(-29.376 -49.038)" fill="#373b40"/>
                                                </g>
                                            </g>
                                        </svg>
                                    </td>
                                    <td class="second-td">
                                        <svg (click)="printDocument('image', file.Url, file.name)" id="Component_263_1" data-name="Component 263 – 1" xmlns="http://www.w3.org/2000/svg" width="28.944" height="26.292" viewBox="0 0 28.944 26.292">
                                            <g id="Group_3988" data-name="Group 3988" transform="translate(9.51 7.142)">
                                                <rect id="Rectangle_15585" data-name="Rectangle 15585" width="9.844" height="1.14" transform="translate(0 2.828)" fill="#373b40"/>
                                                <rect id="Rectangle_15586" data-name="Rectangle 15586" width="9.844" height="1.14" fill="#373b40"/>
                                            </g>
                                            <path id="Path_1752" data-name="Path 1752" d="M43.825,20.43a1.459,1.459,0,0,0-1.455-1.462H16.335a1.459,1.459,0,0,0-1.454,1.462V32.849h5.5v1.1L31.632,45.26h6.641V32.92h5.553ZM17.706,30.459v-5.8h2.671v5.8ZM31.155,42.468l-8-8.044h8Zm1.628,1.156V32.789H22v-8.13H36.645V43.625ZM41,30.529H38.273v-5.87H41Z" transform="translate(-14.881 -18.968)" fill="#373b40"/>
                                        </svg>
                                    </td>
                                </tr>
                            </ng-container>
                        </ng-container>
                    </ng-container>
                </ng-container>
            </tbody>
        </table>
    </div>
</div>
<div class="container-m" style="max-width: 1460px; display: flex; flex-direction: row;">
    {{initZoom()}}
    <div class="head">
        <div class="row my-5" [ngClass]="
            currentStep == 'step4' ? 'justify-content-center' : 'justify-content-left'
            ">
            <div *ngIf="report.report?.ATAID" [ngClass]="'col-md-12'">

                <div class="firstheadtext">
                <!--    <span *ngIf="report['report']['ataId'] != '0'">
                        {{'Kostnadssammanställning ÄTA-' | translate}}{{report['report']['ata_number']}}
                    </span>
                    <span *ngIf="report['report']['ataId'] == '0'">
                        {{'Debiteringsunderlag' | translate}}
                    </span> {{report['report']['name'] }}
                -->
                    {{
                        currentStep == "step1"
                        ? ("Time summary" | translate)
                        : currentStep == "step2"
                        ? ("Material summary" | translate)
                        : currentStep == "step3"
                        ? ("Others summary" | translate)
                        : ""
                    }}
                <!--    {{
                        currentStep == "step4"
                        ? report["report"]["name"]
                        : report["report"]["name"]
                    }}-->
                </div>
                <div class="column-wrapper">
                    <div class="secondheadtext-head-wrapper">
                        <div class="secondheadtext">
                        <!--    {{
                            currentStep == "step1"
                            ? ("Time summary" | translate)
                            : currentStep == "step2"
                            ? ("Material summary" | translate)
                            : currentStep == "step3"
                            ? ("Others summary" | translate)
                            : ""
                            }}
                            {{
                            currentStep == "step4"
                            ? report["report"]["name"]
                            : report["report"]["name"]
                            }}-->
                            {{report['report']['project_customn_name']}}
                            <span *ngIf="report['report']['ataId'] != '0'">-ÄTA-{{report['report']['ata_number']}}-{{report['report']['name']}}</span>
                            <span *ngIf="report['report']['ataId'] == '0'">DU-{{report['report']['name']}}</span>
                        </div>
                        <div class="treeheadtext">
                            <span *ngIf="report['report']['ataId'] == '0'">{{report['report']['project_customn_name']}} {{report['report']['ProjectName']}}</span>
                            <span *ngIf="report['report']['ataId'] != '0'">{{ report['report']['ata']['Name'] }}</span>
                        </div>
                        <div class="treeheadtext" *ngIf="currentStep != 'alreadyAnswered'" class="report-title pb-2">
                            {{ report.report?.ataName }} {{ report.report?.ataDescription }}
                        </div>
                    </div>
                    <div class="mak-container" *ngIf="
                        (currentStep == 'step1' ||
                            currentStep == 'step2' ||
                            currentStep == 'step3') &&
                        report.report.ATAID
                        ">
                        <div class="input-label-end">
                            <div class="labeling-number-label">
                                {{
                                "I wish that the ATA is labeled as below and invoiced seperately!"
                                | translate
                                }}
                            </div>
                            <input type="text" class="form-control mak-input" [(ngModel)]="report.report.labeling_requirements" placeholder="{{'Märk fakturan med' | translate}}" maxlength="50" />
                        </div>
                    </div>
                </div>
            </div>
            <div *ngIf="!report.report?.ATAID" [ngClass]="currentStep == 'step4' ? 'col-md-12' : 'col-md-12'">
                <div class="firstheadtext">
                    {{ "Weekly Report" | translate }}
                    {{ currentStep == "step4" ? "" : report["report"]["name"] }}
                </div>
                <div class="secondheadtext">
                    {{
                        currentStep == "step1"
                        ? ("Time summary" | translate)
                        : currentStep == "step2"
                        ? ("Material summary" | translate)
                        : currentStep == "step3"
                        ? ("Others summary" | translate)
                        : currentStep == "step4"
                        ? ("TSC_Summary" | translate)
                        : ""
                    }}
                    {{
                        report["ATAID"] ? report["report"]["name"] : report["report"]["name"]
                    }}
                </div>
                <div class="treeheadtext">
                  {{report['report']['project_customn_name']}} {{report['report']['ProjectName']}}
                </div>
            </div>
        </div>
        <div id="momentsTable" class="fortable" [ngClass]="currentStep == 'step1' ? '' : 'd-none'">
            <ng-container *ngIf="report.tables.types.additional_work">
                <table class="table-bordered" name="myForm">
                    <thead>
                        <tr>
                            <th class="namncol coltext textsizehead">{{"Name" | translate}}</th>
                            <th class="momentcol coltext textsizehead">{{"Moment" | translate}}</th>
                            <th class="lagecol coltext textsizehead">{{"State" | translate}}</th>
                            <th class="tidcol coltext textsizehead">{{"Time" | translate}}</th>
                            <th   class="okcol">
                                <div class="checAllkposition">
                                    <label for="allMomentsOK" [hidden]="!checkIfAllMomentsOK()" class="Group_2828" style="margin: 0px 7px -4px 4px" [ngStyle]="{ opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1' }">
                                        <app-checkin-svg-green [width]="26" [height]="26"></app-checkin-svg-green>
                                    </label>
                                    <label for="allMomentsOK" [hidden]="checkIfAllMomentsOK()" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" name="allMomentsOK" (click)="checkAllMoments($event)" id="allMomentsOK" class="d-none" [disabled]="
                                        oneMomentPreviouslyAccepted && !report.isMainContact ? true : null" />
                                </div>
                            </th>
                            <th class="commcolhead">
                                <div class="selectallposition"><p class="textundercom">{{"TSC_Select_all" | translate}}</p>
                                    <p class="textattestera">{{"TSC_ATTEST" | translate | uppercase }}</p>
                                    <div class="selectallpostionreject">
                                        <p class="textundercom">{{"TSC_Select_all" | translate}}</p>
                                    </div>
                                </div>
                            </th>
                            <th   class="notokcol">
                                <div class="checAllkposition">
                                    <label for="allMomentsEJOK" [hidden]="!checkIfAllMomentsEJOK()" [ngStyle]="{
                                        opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}" class="Group_2828" style="margin: 0px 7px -4px 5px">
                                        <app-checking-svg-red [width]="26" [height]="26"></app-checking-svg-red>
                                    </label>
                                    <label for="allMomentsEJOK" [hidden]="checkIfAllMomentsEJOK()" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                        opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" name="allMomentsEJOK" (click)="unCheckAllMoments($event)" id="allMomentsEJOK" class="d-none" [disabled]="
                                        oneMomentPreviouslyAccepted && !report.isMainContact ? true : null" />
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container [appCounter]="0">
                            <ng-container *ngFor="let moment of momentsTable; index as i1;">
                                <ng-container *ngFor="let user of moment['users']; index as i2;">
                                    <ng-container *ngIf="user['name'] != 'Arbetade timmar'">
                                        <tr class="row-black" *ngIf="user['allow_show_date_on_frontend']">
                                            <td [attr.colspan]="counter.index == 1 ? 4 : 7">
                                                <div class="row-position padding-left padding-right">
                                                    <svg xmlns="http://www.w3.org/2000/svg" width="18.547" height="17.4" viewBox="0 0 18.547 19.38">
                                                        <g id="Group_8321" data-name="Group 8321" transform="translate(-18236.008 4723)">
                                                        <path id="Path_5119" data-name="Path 5119" d="M34.274,18.483H31.925v1.982c0,.014,0,.027,0,.041s0,.029,0,.044V20.6h0a1.585,1.585,0,0,1-3.165,0h0v-.053c0-.014,0-.029,0-.043s0-.027,0-.04V18.483H22.407v1.965c0,.019,0,.038,0,.058s0,.042,0,.063V20.6h0a1.585,1.585,0,0,1-3.165,0h0V20.53c0-.008,0-.017,0-.025s0-.015,0-.023v-2H16.746a.511.511,0,0,0-.51.509V35.378a.511.511,0,0,0,.51.509H34.274a.511.511,0,0,0,.51-.509V18.992A.511.511,0,0,0,34.274,18.483Zm-1.184,15.2a.511.511,0,0,1-.51.509H18.44a.511.511,0,0,1-.51-.509V23.632a.511.511,0,0,1,.51-.509H32.58a.511.511,0,0,1,.51.509Z" transform="translate(18219.771 -4739.507)" fill="#fcf4ec"/>
                                                        <path id="Path_5120" data-name="Path 5120" d="M47.424,19.859a.847.847,0,0,0,.845-.849V15.948a.845.845,0,1,0-1.69,0v3.061A.847.847,0,0,0,47.424,19.859Z" transform="translate(18202.707 -4738.099)" fill="#fcf4ec"/>
                                                        <path id="Path_5140" data-name="Path 5140" d="M47.424,19.859a.847.847,0,0,0,.845-.849V15.948a.845.845,0,1,0-1.69,0v3.061A.847.847,0,0,0,47.424,19.859Z" transform="translate(18193.223 -4738.099)" fill="#fcf4ec"/>
                                                        </g>
                                                    </svg>
                                                    <span class="textsizehead">  {{ moment["date"] }}</span>
                                                </div>
                                            </td>
                                            <ng-container *ngIf="counter.index == 1">
                                                <td class="oktekst without-top-border">
                                                    <div class="td-wrapper" *ngIf="moment.first_in_fow == user.user_id && i1 == moment.first_in_fow_index">
                                                        <div class="td-border-position">
                                                        </div>
                                                        <div class="td-children oktekst">
                                                            {{"OK" | translate}}
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="comtekst left padding-left">
                                                    <span *ngIf="moment.first_in_fow == user.user_id && i1 == moment.first_in_fow_index">{{"Comment" | translate}}</span>
                                                </td>
                                                <td class="oktekst">
                                                    <div class="td-wrapper" *ngIf="moment.first_in_fow == user.user_id && i1 == moment.first_in_fow_index">
                                                        <div class="td-border-position">
                                                        </div>
                                                        <div class="td-children oktekst">
                                                            {{"NOT OK" | translate}}
                                                        </div>
                                                    </div>
                                                </td>
                                            </ng-container>
                                        </tr>
                                        <ng-container appCounter #counter="appCounter">
                                            <tr [ngClass]="checkIfOdd(counter.index) ? 'bgfirst': '#ffffff'">
                                                <td class="padding-right"><strong class="padding-left"> {{ user["name"] }}</strong></td>
                                                <td></td>
                                                <td></td>
                                                <td class="text-center padding-right"><b>{{ user["total"] }} {{'h' | translate}}</b></td>
                                                <td>
                                                    <div class="checkbox-wrapper">
                                                        <label [for]="'checkbox-accept' + user['name'] + moment.date" [hidden]="!checkIfAllUserMomentsChecked(user['moments'])" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{ opacity: isOneUserMomentPreviouslyAccepted(user['moments']) ? '.5' : '1'}">
                                                            <app-checkin-svg-green [width]="26" [height]="26"></app-checkin-svg-green>
                                                        </label>
                                                        <label [for]="'checkbox-accept' + user['name'] + moment.date" [hidden]="checkIfAllUserMomentsChecked(user['moments'])" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity: isOneUserMomentPreviouslyAccepted(user['moments'])? '.5': '1'}">
                                                            <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                                        </label>
                                                        <input type="checkbox" [id]="'checkbox-accept' + user['name'] + moment.date" [name]="'user-' + user['name'] + '-moments'" (click)="acceptUserMoments(user['moments'])" class="user-checkbox d-none" [disabled]="isOneUserMomentPreviouslyAccepted(user['moments']) ? true : null" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <!--<input [id]="'user-comment-' + i1 + '' + i2" class="moment-comment form-control" [(ngModel)]="user['comment']" [name]="'user-comment-' + i2" required style="width: 100%;" type="text" [disabled]="isOneUserMomentPreviouslyAccepted(user['moments']) ? true : null" />  !-->
                                                </td>
                                                <td>
                                                    <div class="checkbox-wrapper">
                                                        <label [for]="'checkbox-decline' + user['name'] + moment.date" [hidden]="!checkIfAllUserMomentsUnChecked(user['moments'])" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity: isOneUserMomentPreviouslyAccepted(user['moments']) ? '.5' : '1'}">
                                                            <app-checking-svg-red [width]="26" [height]="26"></app-checking-svg-red>
                                                        </label>
                                                        <label [for]="'checkbox-decline' + user['name'] + moment.date" [hidden]="checkIfAllUserMomentsUnChecked(user['moments'])" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity: isOneUserMomentPreviouslyAccepted(user['moments']) ? '.5' : '1'}">
                                                            <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                                        </label>
                                                        <input type="checkbox" [id]="'checkbox-decline' + user['name'] + moment.date" [name]="'user-' + user['name'] + '-moments'" (click)="declineUserMoments(user['moments'])" class="user-checkbox d-none" [disabled]="isOneUserMomentPreviouslyAccepted(user['moments'])? true : null" />
                                                    </div>
                                                </td>
                                            </tr>
                                            <tr *ngFor="let momt of user['moments']; index as i3" class="row-border" [ngClass]="checkIfOdd(counter.index) ? 'bgfirst': '#ffffff'">
                                                <td class="padding-left padding-right">
                                                    <div class="inline-group">
                                                        {{ report['report']['ataId'] != '0' ? 'ÄTA-' + report['report']['ata_number'] : ''}} {{ report['report']['name'] }}
                                                        <div class="images-pure-flex" *ngIf="momt['images'].length">
                                                            <div class="image-icon-container">
                                                                <svg (click)="setActiveDocument(i3, momt['images'], 0, 'image-card')" xmlns="http://www.w3.org/2000/svg" width="25" height="18.607" viewBox="0 0 25 18.607">
                                                                    <g id="Group_8370" data-name="Group 8370" transform="translate(-331.501 -766.147)">
                                                                        <path id="Path_4746" data-name="Path 4746" d="M38.657,20.706H16.329a1.254,1.254,0,0,0-1.336,1.14V38.174a1.254,1.254,0,0,0,1.336,1.139H38.657a1.254,1.254,0,0,0,1.336-1.139V21.846A1.254,1.254,0,0,0,38.657,20.706Zm.036,15.372c-1.2-1.4-5.14-5.873-6.133-5.873-.616,0-2.026,1.662-2.8,1.662-1.245,0-3.73-3.9-5-3.9-1.317,0-6.695,6.572-8.464,8.779V22.218a.6.6,0,0,1,.638-.544H38.054a.6.6,0,0,1,.638.544Z" transform="translate(316.508 745.441)" fill="#e37831"/>
                                                                        <circle id="Ellipse_797" data-name="Ellipse 797" cx="2.375" cy="2.375" r="2.375" transform="translate(349.563 768.761)" fill="#e37831"/>
                                                                    </g>
                                                                </svg>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </td>
                                                <td class="moment-field workmployer padding-right">
                                                    {{ momt["moment"] }}
                                                </td>
                                                <td class="workmployer">{{ momt["state"] }}</td>
                                                <td class="text-right text-center padding-right">{{ momt["time_qty"] }} {{'h' | translate}}</td>
                                                <td>
                                                    <div class="checkbox-wrapper">
                                                        <label [for]="'accept-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] != 1" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:
                                                        momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                            <app-checkin-svg-green [width]="22" [height]="22"></app-checkin-svg-green>
                                                        </label>
                                                        <label [for]="'accept-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] == 1" style="margin: 0px 7px -4px 5px" [ngStyle]="{ opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                            <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                                        </label>
                                                        <input [id]="'accept-checkbox-' + momt['momentId']" type="checkbox" class="moment-checkbox mr-1 d-none" (click)="acceptMoment(momt)" [ngClass]="'check-' + user['name']" [name]="'moments-' + momt['momentId']" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" />
                                                    </div>
                                                </td>
                                                <td>
                                                    <input [id]="'comment-' + momt['momentId']" class="moment-comment form-control" [(ngModel)]="momt['ClientComment']" maxlength="255" [name]="'comment-' + momt['momentId']" required style="width: 100%" type="text" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" [ngClass]="moment_declined.includes(momt['momentId']) ? 'border-red' : ''" />
                                                </td>
                                                <td>
                                                    <div class="checkbox-wrapper">
                                                        <label [for]="'decline-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] != 0" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                                        opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                            <app-checking-svg-red [width]="22" [height]="22"></app-checking-svg-red>
                                                        </label>
                                                        <label [for]="'decline-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] == 0" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                                        opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                            <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                                        </label>
                                                        <input [id]="'decline-checkbox-' + momt['momentId']" type="checkbox" class="moment-checkbox mr-1 d-none" (click)="declineMoment(momt)" [ngClass]="'check-' + user['name']" [name]="'moments-' + momt['momentId']" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" />
                                                    </div>
                                                </td>
                                            </tr>
                                        </ng-container>
                                    </ng-container>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <tr class="row-black-last">
                            <td class="nameofsumma right" colspan="3">{{'TSC_SUM_TOTAL' | translate}}</td>
                            <td class="center">{{totalForMoments}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </ng-container>
            <ng-container *ngIf="report.tables.types.additional_work_manual">
                <table class="table-bordered table-manual-moments" name="myForm">
                    <thead>
                        <tr>
                            <th class="withoutname textformanuallytable coltext th-postion-1">{{" " | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-2">{{"Description" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-3">{{"Quantity" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-4">{{"Price per unit" | translate}}</th>
                            <th  class="percent apricetext textsizehead th-postion-5" >
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17.275" height="10.458" viewBox="0 0 17.275 10.458">
                                    <defs>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_15721" data-name="Rectangle 15721" width="17.275" height="10.458" fill="#fff"/>
                                        </clipPath>
                                    </defs>
                                    <g id="Group_4226" data-name="Group 4226" clip-path="url(#clip-path)">
                                        <path id="Path_1791" data-name="Path 1791" d="M47.312,6.918a.379.379,0,0,1-.1-.262V4.788H45.5a.3.3,0,0,1-.235-.106.377.377,0,0,1-.1-.262V4.094a.376.376,0,0,1,.1-.262.3.3,0,0,1,.235-.106h1.715V1.858a.379.379,0,0,1,.1-.262.3.3,0,0,1,.235-.106h.368a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262V3.726h1.7a.3.3,0,0,1,.235.106.377.377,0,0,1,.1.262V4.42a.378.378,0,0,1-.1.262.3.3,0,0,1-.235.106h-1.7V6.656a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106h-.368a.3.3,0,0,1-.235-.106" transform="translate(-33.004 -1.089)" fill="#fff"/>
                                        <path id="Path_1792" data-name="Path 1792" d="M47.129,29.891a.377.377,0,0,1-.1-.262V29.3a.378.378,0,0,1,.1-.262.3.3,0,0,1,.235-.106h3.469a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262v.326a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106H47.364a.3.3,0,0,1-.235-.106" transform="translate(-34.365 -21.142)" fill="#fff"/>
                                        <path id="Path_1793" data-name="Path 1793" d="M4.112,4.752a2.2,2.2,0,0,1-1.723.731,2.323,2.323,0,0,1-.978-.2A2.246,2.246,0,0,1,.66,4.729a2.47,2.47,0,0,1-.489-.866A3.527,3.527,0,0,1,0,2.734,2.908,2.908,0,0,1,.652.739,2.185,2.185,0,0,1,2.374,0a2.342,2.342,0,0,1,.97.2A2.226,2.226,0,0,1,4.1.755a2.458,2.458,0,0,1,.489.874,3.607,3.607,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987m-2.568-.66a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653A2.69,2.69,0,0,0,3.22,1.391.959.959,0,0,0,2.374,1a.926.926,0,0,0-.838.405A2.366,2.366,0,0,0,1.272,2.67a2.649,2.649,0,0,0,.272,1.422m.683,6.08a.212.212,0,0,1,.008-.238L7.79.525A.706.706,0,0,1,8.046.27.682.682,0,0,1,8.4.175h.388a.232.232,0,0,1,.21.111.212.212,0,0,1-.008.239L3.43,9.934a.7.7,0,0,1-.256.254.679.679,0,0,1-.349.1H2.436a.232.232,0,0,1-.21-.111m8.341-.445a2.195,2.195,0,0,1-1.722.731,2.325,2.325,0,0,1-.978-.2A2.248,2.248,0,0,1,7.115,9.7a2.464,2.464,0,0,1-.489-.866,3.528,3.528,0,0,1-.171-1.129,2.908,2.908,0,0,1,.652-1.995A2.184,2.184,0,0,1,8.83,4.975a2.338,2.338,0,0,1,.97.2,2.225,2.225,0,0,1,.76.556,2.454,2.454,0,0,1,.489.874,3.608,3.608,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987M8,9.068a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653a2.691,2.691,0,0,0-.272-1.438.96.96,0,0,0-.846-.39.927.927,0,0,0-.838.405,2.368,2.368,0,0,0-.264,1.264A2.651,2.651,0,0,0,8,9.068" transform="translate(0 0)" fill="#fff"/>
                                    </g>
                                </svg>
                            </th>
                            <th class="withoutname textformanuallytable coltext th-postion-6">{{ "Subtotal" | translate | uppercase }}</th>
                            <th  class="percent apricetext textsizehead th-postion-7" >
                                <div class="checAllkpositionMaterialWrapper">
                                    <label for="allManualMomentsOK" [hidden]="!checkIfAllManualMomentsOK()" class="Group_2828" style="margin: 0px 7px -4px 4px" [ngStyle]="{ opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1' }">
                                        <app-checkin-svg-green [width]="26" [height]="26"></app-checkin-svg-green>
                                    </label>
                                    <label for="allManualMomentsOK" [hidden]="checkIfAllManualMomentsOK()" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" name="allManualMomentsOK" (click)="checkAllManualMoments($event)" id="allManualMomentsOK" class="d-none" [disabled]="
                                        oneMomentPreviouslyAccepted && !report.isMainContact ? true : null" />
                                    <span class="checAllkpositionMaterial">{{"OK" | translate}}</span>
                                </div>
                            </th>
                            <th class="tidcol coltext textsizehead th-postion-8 center">
                                {{"TSC_ATTEST" | translate | uppercase }}
                            </th>
                            <th class="notokcol th-postion-9 apricetext textsizehead">
                                <div class="checAllkpositionMaterialWrapper">
                                    <span class="checAllkpositionMaterialLeft">{{"NOT OK" | translate}}</span>
                                    <label for="allManualMomentsEJOK" [hidden]="!checkIfAllManualMomentsEJOK()" [ngStyle]="{
                                        opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}" class="Group_2828" style="margin: 0px 7px -4px 5px">
                                        <app-checking-svg-red [width]="26" [height]="26"></app-checking-svg-red>
                                    </label>
                                    <label for="allManualMomentsEJOK" [hidden]="checkIfAllManualMomentsEJOK()" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                        opacity: oneMomentPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" name="allManualMomentsEJOK" (click)="unCheckAllManualMoments($event)" id="allManualMomentsEJOK" class="d-none" [disabled]="oneMomentPreviouslyAccepted && !report.isMainContact ? true : null" />
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <ng-container *ngFor="let moment of momentsTable; index as i1">
                            <ng-container *ngFor="let user of moment['users']; index as i2">
                                <ng-container *ngIf="user['name'] == 'Arbetade timmar'">
                                    <tr *ngFor="let momt of user['moments']; index as i3" class="row-border" [ngStyle]="{ 'background-color': i2 % 2 === 0 ? '#EBEBEB' : '' }">
                                        <td class="padding-left padding-right">{{ report['report']['ataId'] != '0' ? 'ÄTA-' + report['report']['ata_number'] : ''}} {{ report['report']['name'] }}</td>
                                        <td class="padding-left padding-right">{{ momt["comment"] }}</td>
                                        <td class="right padding-right">{{ momt["time_qty"] }} {{ momt["Unit"] | translate}}</td>
                                        <td class="right padding-right">{{ momt["Price"] | number: "1.2-2":"fr"  }}</td>
                                        <td class="center">{{ momt["Deduct"] | number: "1.2-2":"fr"  }}</td>
                                        <td class="right padding-right">{{ momt["total"] | number: "1.2-2":"fr" }}</td>
                                        <td class="timeemployer">
                                            <div class="checkbox-wrapper">
                                                <label [for]="'accept-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] != 1" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:
                                                momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                    <app-checkin-svg-green [width]="22" [height]="22"></app-checkin-svg-green>
                                                </label>
                                                <label [for]="'accept-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] == 1" style="margin: 0px 7px -4px 5px" [ngStyle]="{ opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                    <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                                </label>
                                                <input [id]="'accept-checkbox-' + momt['momentId']" type="checkbox" class="moment-checkbox mr-1 d-none" (click)="acceptMoment(momt)" [ngClass]="'check-' + user['name']" [name]="'moments-' + momt['momentId']" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" />
                                            </div>
                                        </td>
                                        <td class="timeemployer">
                                            <input [id]="'comment-' + momt['momentId']" class="moment-comment form-control" [(ngModel)]="momt['ClientComment']" maxlength="255" [name]="'comment-' + momt['momentId']" required style="width: 100%" type="text" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" [ngClass]="moment_declined.includes(momt['momentId']) ? 'border-red' : ''" />
                                        </td>
                                        <td class="timeemployer">
                                            <div class="checkbox-wrapper">
                                                <label [for]="'decline-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] != 0" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                                opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                    <app-checking-svg-red [width]="22" [height]="22"></app-checking-svg-red>
                                                </label>
                                                <label [for]="'decline-checkbox-' + momt['momentId']" [hidden]="momt['ClientStatus'] == 0" style="margin: 0px 7px -4px 5px" [ngStyle]="{
                                                opacity: momt['ClientStatusCopy'] == 1 && !report.isMainContact ? '.5' : '1'}">
                                                    <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                                </label>
                                                <input [id]="'decline-checkbox-' + momt['momentId']" type="checkbox" class="moment-checkbox mr-1 d-none" (click)="declineMoment(momt)" [ngClass]="'check-' + user['name']" [name]="'moments-' + momt['momentId']" [disabled]="momt['ClientStatusCopy'] == 1 && !report.isMainContact ? true : null" />
                                            </div>
                                        </td>
                                    </tr>
                                </ng-container>
                            </ng-container>
                        </ng-container>
                        <tr class="row-black-last">
                            <td class="nameofsumma right" colspan="5">{{'TSC_SUM_TOTAL' | translate}}</td>
                            <td class="right padding-right">{{total_of_manual_moments | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </ng-container>
            <div class="margin-bottom">
            </div>
        </div>

        <!-- Materials table -->
        <ng-container *ngIf="report.tables.types.material">
            <div id="materialsTable" class="row mt-3 justify-content-center table-bottom" [ngClass]="currentStep == 'step2' ? '' : 'd-none'">
                <table class="table-bordered" name="myForm">
                    <thead>
                        <tr>
                            <th class="withoutname textformanuallytable coltext th-postion-material-1">{{"Invoice" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-material-2">{{"OCR" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-2">{{"Description" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-3">{{"Quantity" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-4">{{"Price per unit" | translate}}</th>
                            <th  class="percent apricetext textsizehead th-postion-5" >
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17.275" height="10.458" viewBox="0 0 17.275 10.458">
                                    <defs>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_15721" data-name="Rectangle 15721" width="17.275" height="10.458" fill="#fff"/>
                                        </clipPath>
                                    </defs>
                                    <g id="Group_4226" data-name="Group 4226" clip-path="url(#clip-path)">
                                        <path id="Path_1791" data-name="Path 1791" d="M47.312,6.918a.379.379,0,0,1-.1-.262V4.788H45.5a.3.3,0,0,1-.235-.106.377.377,0,0,1-.1-.262V4.094a.376.376,0,0,1,.1-.262.3.3,0,0,1,.235-.106h1.715V1.858a.379.379,0,0,1,.1-.262.3.3,0,0,1,.235-.106h.368a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262V3.726h1.7a.3.3,0,0,1,.235.106.377.377,0,0,1,.1.262V4.42a.378.378,0,0,1-.1.262.3.3,0,0,1-.235.106h-1.7V6.656a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106h-.368a.3.3,0,0,1-.235-.106" transform="translate(-33.004 -1.089)" fill="#fff"/>
                                        <path id="Path_1792" data-name="Path 1792" d="M47.129,29.891a.377.377,0,0,1-.1-.262V29.3a.378.378,0,0,1,.1-.262.3.3,0,0,1,.235-.106h3.469a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262v.326a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106H47.364a.3.3,0,0,1-.235-.106" transform="translate(-34.365 -21.142)" fill="#fff"/>
                                        <path id="Path_1793" data-name="Path 1793" d="M4.112,4.752a2.2,2.2,0,0,1-1.723.731,2.323,2.323,0,0,1-.978-.2A2.246,2.246,0,0,1,.66,4.729a2.47,2.47,0,0,1-.489-.866A3.527,3.527,0,0,1,0,2.734,2.908,2.908,0,0,1,.652.739,2.185,2.185,0,0,1,2.374,0a2.342,2.342,0,0,1,.97.2A2.226,2.226,0,0,1,4.1.755a2.458,2.458,0,0,1,.489.874,3.607,3.607,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987m-2.568-.66a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653A2.69,2.69,0,0,0,3.22,1.391.959.959,0,0,0,2.374,1a.926.926,0,0,0-.838.405A2.366,2.366,0,0,0,1.272,2.67a2.649,2.649,0,0,0,.272,1.422m.683,6.08a.212.212,0,0,1,.008-.238L7.79.525A.706.706,0,0,1,8.046.27.682.682,0,0,1,8.4.175h.388a.232.232,0,0,1,.21.111.212.212,0,0,1-.008.239L3.43,9.934a.7.7,0,0,1-.256.254.679.679,0,0,1-.349.1H2.436a.232.232,0,0,1-.21-.111m8.341-.445a2.195,2.195,0,0,1-1.722.731,2.325,2.325,0,0,1-.978-.2A2.248,2.248,0,0,1,7.115,9.7a2.464,2.464,0,0,1-.489-.866,3.528,3.528,0,0,1-.171-1.129,2.908,2.908,0,0,1,.652-1.995A2.184,2.184,0,0,1,8.83,4.975a2.338,2.338,0,0,1,.97.2,2.225,2.225,0,0,1,.76.556,2.454,2.454,0,0,1,.489.874,3.608,3.608,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987M8,9.068a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653a2.691,2.691,0,0,0-.272-1.438.96.96,0,0,0-.846-.39.927.927,0,0,0-.838.405,2.368,2.368,0,0,0-.264,1.264A2.651,2.651,0,0,0,8,9.068" transform="translate(0 0)" fill="#fff"/>
                                    </g>
                                </svg>
                            </th>
                            <th class="withoutname textformanuallytable coltext th-postion-6">{{ "Subtotal" | translate | uppercase }}</th>
                            <th   class="okcol th-postion-7 textsizehead apricetext">
                                <div class="checAllkpositionMaterialWrapper">
                                    <label for="checkbox-all-materialsOK" [hidden]="!allMaterialsOK" class="Group_2828" style="margin: 0px 7px -4px 4px" [ngStyle]="{opacity: oneMaterialPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkin-svg-green [width]="26" [height]="26"></app-checkin-svg-green>
                                    </label>
                                    <label for="checkbox-all-materialsOK" [hidden]="allMaterialsOK" style="margin: 0px 7px -4px 5px" [ngStyle]="{ opacity: oneMaterialPreviouslyAccepted && !report.isMainContact ? '.5' : '1' }">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" id="checkbox-all-materialsOK" (click)="checkAllMaterials($event)" [checked]="allMaterialsOK ? 'checked' : null" hidden [disabled]="oneMaterialPreviouslyAccepted && !report.isMainContact ? true : null" />
                                    <span class="checAllkpositionMaterial">{{"OK" | translate}}</span>
                                </div>
                            </th>
                            <th class="tidcol coltext textsizehead th-postion-8 center">
                                {{"TSC_ATTEST" | translate | uppercase }}
                            </th>
                            <th class="notokcol th-postion-9 textsizehead apricetext">
                                <div class="checAllkpositionMaterialWrapper">
                                    <label class="Group_2828" [hidden]="!allMaterialsEJOK" style="margin: 0px 7px -4px 5px" for="checkbox-all-materialsEJOK" [ngStyle]="{opacity:oneMaterialPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checking-svg-red [width]="26" [height]="26"></app-checking-svg-red>
                                    </label>
                                    <label for="checkbox-all-materialsEJOK" [hidden]="allMaterialsEJOK" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:oneMaterialPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="26" [height]="26"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" id="checkbox-all-materialsEJOK" (click)="unCheckAllMaterials($event)" [checked]="allMaterialsEJOK ? 'checked' : null" hidden [disabled]="oneMaterialPreviouslyAccepted && !report.isMainContact ? true : null" />
                                    <span class="checAllkpositionMaterialLeft">{{"NOT OK" | translate}}</span>
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let materials of materialsTable; let i4 = index" class="row-border" [ngStyle]="{ 'background-color': i4 % 2 === 0 ? '#EBEBEB' : '' }">
                            <td class="padding-left left padding-right" (click)="openDocument(materials, 50000)"   [ngClass]="materials['pdf_doc'] ? 'cursor-pointer' : null">
                                <span class="pdf-preview" *ngIf="materials.pdf_doc || materials.pdf_images">
                                    <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="15.77" height="23.962" viewBox="0 0 15.77 23.962">
                                      <defs>
                                        <clipPath id="clip-path">
                                          <path id="Path_874" data-name="Path 874" d="M0,11.04H15.77V-12.922H0Z" transform="translate(0 12.922)" fill="#82a7e2"/>
                                        </clipPath>
                                      </defs>
                                      <g id="Group_9026" data-name="Group 9026" transform="translate(-312.578 -418.981)">
                                        <g id="Component_73_37" data-name="Component 73 – 37" transform="translate(312.578 418.981)">
                                          <g id="Group_3949" data-name="Group 3949" transform="translate(8.632 0.003)">
                                            <path id="Path_869" data-name="Path 869" d="M0,3.241H7L0-3.793Z" transform="translate(0 3.793)" fill="#82a7e2"/>
                                          </g>
                                          <g id="Group_3950" data-name="Group 3950">
                                            <path id="Path_870" data-name="Path 870" d="M0,0V11.981H14.677v8.484H0v3.5H15.77V8.476H7.2V0Z" fill="#82a7e2"/>
                                          </g>
                                          <g id="Group_3954" data-name="Group 3954" transform="translate(0 0)" clip-path="url(#clip-path)">
                                            <g id="Group_3951" data-name="Group 3951" transform="translate(0.06 13.286)">
                                              <path id="Path_871" data-name="Path 871" d="M.3,2.7a.389.389,0,0,0,.41-.412V.417h.562A4.366,4.366,0,0,0,2.415.292,1.594,1.594,0,0,0,3.6-1.382a1.554,1.554,0,0,0-.929-1.6,4.086,4.086,0,0,0-1.433-.185H.567a.836.836,0,0,0-.922.959v4.5A.381.381,0,0,0,.04,2.7Zm.41-4.821a.315.315,0,0,1,0-.045h.56a2.444,2.444,0,0,1,.9.1c.174.074.337.211.337.707a.679.679,0,0,1-.345.677,2.32,2.32,0,0,1-.844.1H.713Z" transform="translate(0.355 3.166)" fill="#82a7e2"/>
                                            </g>
                                            <g id="Group_3952" data-name="Group 3952" transform="translate(4.718 13.286)">
                                              <path id="Path_872" data-name="Path 872" d="M.706,2.7a4.838,4.838,0,0,0,1.472-.2A2.637,2.637,0,0,0,3.723-.289C3.723-1.8,3.211-2.709,2.2-3A4.947,4.947,0,0,0,.767-3.158H.11A.833.833,0,0,0-.826-2.2V1.763A.816.816,0,0,0,.1,2.7ZM.24-2.1a.225.225,0,0,1,0-.043H.819a2.675,2.675,0,0,1,1.092.158c.5.234.721.757.721,1.7,0,1-.241,1.556-.781,1.808a2.511,2.511,0,0,1-1.011.159H.275l-.032,0a.38.38,0,0,1,0-.057Z" transform="translate(0.826 3.158)" fill="#82a7e2"/>
                                            </g>
                                            <g id="Group_3953" data-name="Group 3953" transform="translate(10.144 13.287)">
                                              <path id="Path_873" data-name="Path 873" d="M.494.47H2.537A.37.37,0,0,0,2.947.08V-.153a.374.374,0,0,0-.41-.4H.36c-.63,0-.938.317-.938.972V4.907a.378.378,0,0,0,.395.412H.088A.384.384,0,0,0,.49,4.9V2.955H2.222a.374.374,0,0,0,.41-.388V2.332a.375.375,0,0,0-.41-.4H.49V.52a.307.307,0,0,1,0-.05" transform="translate(0.578 0.55)" fill="#82a7e2"/>
                                            </g>
                                          </g>
                                        </g>
                                      </g>
                                    </svg>
                                    {{materials.supplier_name}}
                                </span>
                            </td>
                            <td class="padding-left left padding-right">{{ materials["supplier_ocr"] }}</td>
                            <td class="padding-left left padding-right">{{ materials["Name"] }}</td>
                            <td class="padding-left right padding-right">{{ materials["Quantity"] }} {{ materials["Unit"] | translate}}</td>
                            <td class="right padding-right">{{ materials["Price"] | number: "1.2-2":"fr" }}</td>
                            <td class="center">{{ materials["Deduct"] | number: "1.2-2":"fr"  }}</td>
                            <td class="right padding-right">{{ materials["Total"] | number: "1.2-2":"fr" }}</td>
                            <td>
                                <div class="checkbox-wrapper">
                                    <label class="Group_2828" [hidden]="materials['ClientStatus'] != 1" [for]="'checkbox-' + materials['Id']">
                                        <app-checkin-svg-green [width]="22" [height]="22"></app-checkin-svg-green>
                                    </label>
                                    <label [for]="'checkbox-' + materials['Id']" [hidden]="materials['ClientStatus'] == 1" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:materials.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input [id]="'checkbox-' + materials['Id']" class="material-accept-checkbox mr-1" type="checkbox" (click)="acceptMaterialItem(i4)" [name]="'materialsStatus-' + materials['Id']" value="1" hidden [disabled]="materials.ClientStatusCopy == 1 && !report.isMainContact ? true : null" />
                                </div>
                            </td>
                            <td>
                                <input [placeholder]="materials['ClientStatus'] == 0 || materials['ClientStatus'] == false ? ('Comment is mandatory' | translate) : ''" [(ngModel)]="materials['ClientComment']" [name]="'materialsComment-' + materials['Id']" maxlength="255" [id]="'comment-' + materials['Id']" required class="moment-comment form-control" style="width: 100%" type="text" [disabled]="materials.ClientStatusCopy == 1 && !report.isMainContact ? true : null" [ngClass]="material_declined.includes(materials['Id']) ? 'border-red' : ''"/>
                            </td>
                            <td>
                                <div class="checkbox-wrapper">
                                    <label class="Group_2828" [for]="'checkbox-decline' + materials['Id']" [hidden]="materials['ClientStatus'] != 0" [ngStyle]="{opacity:materials.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checking-svg-red [width]="22" [height]="22"></app-checking-svg-red>
                                    </label>
                                    <label [for]="'checkbox-decline' + materials['Id']" [hidden]="materials['ClientStatus'] == 0" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:materials.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown [width]="22" [height]="22"></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input [id]="'checkbox-decline' + materials['Id']" class="material-decline-checkbox mr-1" type="checkbox" (click)="declineMaterialItem(i4)" [name]="'materialsStatus-' + materials['Id']" value="0" hidden [disabled]="materials.ClientStatusCopy == 1 && !report.isMainContact ? true : null"/>
                                </div>
                            </td>
                        </tr>
                        <tr class="row-black-last">
                            <td class="nameofsumma right" colspan="6">{{'TSC_SUM_TOTAL' | translate}}</td>
                            <td class="right padding-right">{{report.report.totals.Material?.w_total_sum| number: "1.2-2":"fr"}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </ng-container>
        <!-- Others table -->
        <ng-container *ngIf="report.tables.types.other">
            <div id="othersTable" class="row mt-3 justify-content-center table-bottom" [ngClass]="currentStep == 'step3' ? '' : 'd-none'">
                <table class="table-bordered" name="myForm">
                    <thead>
                        <tr>
                            <th class="withoutname textformanuallytable coltext th-postion-10">{{"Description" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-3">{{"Quantity" | translate}}</th>
                            <th class="withoutname textformanuallytable coltext th-postion-4">{{"Price per unit" | translate}}</th>
                            <th  class="percent apricetext textsizehead th-postion-5" >
                                <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17.275" height="10.458" viewBox="0 0 17.275 10.458">
                                    <defs>
                                        <clipPath id="clip-path">
                                            <rect id="Rectangle_15721" data-name="Rectangle 15721" width="17.275" height="10.458" fill="#fff"/>
                                        </clipPath>
                                    </defs>
                                    <g id="Group_4226" data-name="Group 4226" clip-path="url(#clip-path)">
                                        <path id="Path_1791" data-name="Path 1791" d="M47.312,6.918a.379.379,0,0,1-.1-.262V4.788H45.5a.3.3,0,0,1-.235-.106.377.377,0,0,1-.1-.262V4.094a.376.376,0,0,1,.1-.262.3.3,0,0,1,.235-.106h1.715V1.858a.379.379,0,0,1,.1-.262.3.3,0,0,1,.235-.106h.368a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262V3.726h1.7a.3.3,0,0,1,.235.106.377.377,0,0,1,.1.262V4.42a.378.378,0,0,1-.1.262.3.3,0,0,1-.235.106h-1.7V6.656a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106h-.368a.3.3,0,0,1-.235-.106" transform="translate(-33.004 -1.089)" fill="#fff"/>
                                        <path id="Path_1792" data-name="Path 1792" d="M47.129,29.891a.377.377,0,0,1-.1-.262V29.3a.378.378,0,0,1,.1-.262.3.3,0,0,1,.235-.106h3.469a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262v.326a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106H47.364a.3.3,0,0,1-.235-.106" transform="translate(-34.365 -21.142)" fill="#fff"/>
                                        <path id="Path_1793" data-name="Path 1793" d="M4.112,4.752a2.2,2.2,0,0,1-1.723.731,2.323,2.323,0,0,1-.978-.2A2.246,2.246,0,0,1,.66,4.729a2.47,2.47,0,0,1-.489-.866A3.527,3.527,0,0,1,0,2.734,2.908,2.908,0,0,1,.652.739,2.185,2.185,0,0,1,2.374,0a2.342,2.342,0,0,1,.97.2A2.226,2.226,0,0,1,4.1.755a2.458,2.458,0,0,1,.489.874,3.607,3.607,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987m-2.568-.66a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653A2.69,2.69,0,0,0,3.22,1.391.959.959,0,0,0,2.374,1a.926.926,0,0,0-.838.405A2.366,2.366,0,0,0,1.272,2.67a2.649,2.649,0,0,0,.272,1.422m.683,6.08a.212.212,0,0,1,.008-.238L7.79.525A.706.706,0,0,1,8.046.27.682.682,0,0,1,8.4.175h.388a.232.232,0,0,1,.21.111.212.212,0,0,1-.008.239L3.43,9.934a.7.7,0,0,1-.256.254.679.679,0,0,1-.349.1H2.436a.232.232,0,0,1-.21-.111m8.341-.445a2.195,2.195,0,0,1-1.722.731,2.325,2.325,0,0,1-.978-.2A2.248,2.248,0,0,1,7.115,9.7a2.464,2.464,0,0,1-.489-.866,3.528,3.528,0,0,1-.171-1.129,2.908,2.908,0,0,1,.652-1.995A2.184,2.184,0,0,1,8.83,4.975a2.338,2.338,0,0,1,.97.2,2.225,2.225,0,0,1,.76.556,2.454,2.454,0,0,1,.489.874,3.608,3.608,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987M8,9.068a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653a2.691,2.691,0,0,0-.272-1.438.96.96,0,0,0-.846-.39.927.927,0,0,0-.838.405,2.368,2.368,0,0,0-.264,1.264A2.651,2.651,0,0,0,8,9.068" transform="translate(0 0)" fill="#fff"/>
                                    </g>
                                </svg>
                            </th>
                            <th class="withoutname textformanuallytable coltext th-postion-6">{{ "Subtotal" | translate | uppercase }}</th>
                            <th  class="percent apricetext textsizehead th-postion-7" >
                                <div class="checAllkpositionMaterialWrapper">
                                    <label for="checkbox-all-othersOK" [hidden]="!allOthersOK" class="Group_2828" style="margin: 0px 7px -4px 4px" [ngStyle]="{opacity:oneOtherPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkin-svg-green ></app-checkin-svg-green>
                                    </label>
                                    <label for="checkbox-all-othersOK" [hidden]="allOthersOK" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:oneOtherPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown ></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" [checked]="allOthersOK ? 'checked' : null" (click)="checkAllOthers($event)" id="checkbox-all-othersOK" hidden [disabled]="oneOtherPreviouslyAccepted && !report.isMainContact ? true : null" />
                                    <span class="checAllkpositionMaterial">{{"OK" | translate}}</span>
                                </div>
                            </th>
                            <th class="tidcol coltext textsizehead th-postion-8 center">
                                {{"Comment" | translate | uppercase }}
                            </th>
                            <th class="notokcol th-postion-9 apricetext textsizehead">
                                <div class="checAllkpositionMaterialWrapper">
                                    <span class="checAllkpositionMaterialLeft">{{"NOT OK" | translate}}</span>
                                    <label for="checkbox-all-othersEJOK" [hidden]="!allOthersEJOK" class="Group_2828" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:oneOtherPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checking-svg-red></app-checking-svg-red>
                                    </label>
                                    <label for="checkbox-all-othersEJOK" [hidden]="allOthersEJOK" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:oneOtherPreviouslyAccepted && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown ></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input type="checkbox" [checked]="allOthersEJOK ? 'checked' : null" (click)="unCheckAllOthers($event)" id="checkbox-all-othersEJOK" hidden [disabled]="oneOtherPreviouslyAccepted && !report.isMainContact ? true : null" />
                                </div>
                            </th>
                        </tr>
                    </thead>
                    <tbody>
                        <tr *ngFor="let others of othersTable; let i5 = index" class="row-border" [ngStyle]="{ 'background-color': i5 % 2 === 0 ? '#EBEBEB' : '' }">
                            <td class="padding-right padding-left">{{ others["Name"] }}</td>
                            <td class="padding-left right padding-right">{{ others["Quantity"] }} {{ others["Unit"] | translate}}</td>
                            <td class="right padding-right padding-left">{{ others["Price"] | number: "1.2-2":"fr" }}</td>
                            <td class="center">{{ others["Deduct"] | number: "1.2-2":"fr"  }}</td>
                            <td class="right padding-right">{{ others["Total"] | number: "1.2-2":"fr" }}</td>
                            <td>
                                <div class="checkbox-wrapper">
                                    <label class="Group_2828" [hidden]="others['ClientStatus'] != 1" [for]="'checkbox-' + others['Id']" [ngStyle]="{opacity:others.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkin-svg-green ></app-checkin-svg-green>
                                    </label>
                                    <label [for]="'checkbox-' + others['Id']" [hidden]="others['ClientStatus'] == 1" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:others.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1' }">
                                        <app-checkout-svg-for-first-dropdown ></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input [id]="'checkbox-' + others['Id']" class="others-accept-checkbox mr-1" type="checkbox" (click)="acceptOtherItem(i5)" [name]="'othersStatus-' + others['Id']" value="1" hidden [disabled]="others.ClientStatusCopy == 1 && !report.isMainContact ? true : null" />
                                </div>
                            </td>

                            <td>
                                <input [(ngModel)]="others['ClientComment']" class="moment-comment form-control" maxlength="255" [placeholder]="others['ClientStatus'] == 0 || others['ClientStatus'] == false ? ('Comment is mandatory' | translate) : ''" [name]="'othersComment-' + others['Id']" style="width: 100%" type="text" [disabled]="others.ClientStatusCopy == 1 && !report.isMainContact ? true : null" [ngClass]="other_declined.includes(others.Id) ? 'border-red' : ''" />
                            </td>
                            <td>
                                <div class="checkbox-wrapper">
                                    <label class="Group_2828" [hidden]="others['ClientStatus'] != 0" [for]="'checkbox-other-decline' + others['Id']" [ngStyle]="{opacity:others.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checking-svg-red></app-checking-svg-red>
                                    </label>
                                    <label [for]="'checkbox-other-decline' + others['Id']" [hidden]="others['ClientStatus'] == 0" style="margin: 0px 7px -4px 5px" [ngStyle]="{opacity:others.ClientStatusCopy == 1 && !report.isMainContact ? '.5' : '1'}">
                                        <app-checkout-svg-for-first-dropdown ></app-checkout-svg-for-first-dropdown>
                                    </label>
                                    <input [id]="'checkbox-other-decline' + others['Id']" class="others-decline-checkbox mr-1" type="checkbox" [name]="'othersStatus-' + others['Id']" (click)="declineOtherItem(i5)" value="0" hidden [disabled]="others.ClientStatusCopy == 1 && !report.isMainContact ? true : null" />
                                </div>
                            </td>
                        </tr>
                        <tr class="row-black-last">
                            <td class="nameofsumma right" colspan="4">{{'TSC_Sum' | translate}}</td>
                            <td class="right padding-right">{{report.report.totals.Other?.w_total_sum | number: "1.2-2":"fr"}}</td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                    </tbody>
                </table>
            </div>
        </ng-container>
        <!-- Final Step content  -->
        <div id="finalStep" class="row mt-3 justify-content-center table-bottom" [ngClass]="currentStep == 'step4' ? '' : 'd-none'">
            <table class="table-bordered" name="myForm">
                <thead>
                    <tr>
                        <th colspan="2" class="withoutname textformanuallytable coltext total-table-th-1 left padding-left">{{"Description" | translate}}</th>
                        <th class="withoutname textformanuallytable coltext total-table-th-2 right padding-left padding-right">{{"Quantity" | translate}}</th>
                        <th class="withoutname textformanuallytable coltext total-table-th-3 center padding-left padding-right">{{"Unit" | translate}}</th>
                        <th class="withoutname textformanuallytable coltext total-table-th-4 right padding-left padding-right">{{"Price per unit" | translate}}</th>
                        <th class="withoutname textformanuallytable coltext total-table-th-5 right padding-left padding-right">{{"Not accepted" | translate}}</th>
                        <th class="withoutname textformanuallytable coltext total-table-th-6 right padding-left padding-right">{{"Accepted" | translate}}</th>
                    </tr>
                </thead>
                <tbody>
                    <ng-container>
                        <tr *ngIf="exist_additional_work">
                            <td class="padding-left left padding-right" colspan="2"><b>{{ "Working hours" | translate }}</b></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <ng-container *ngFor="let moment_price of moment_price_array">
                            <tr *ngIf="getAcceptedMomentsTotal(moment_price) != 0">
                                <td class="padding-left left padding-right" colspan="2">
                                    <div class="description-position">
                                        {{ report['report']['name'] }} <span class="accept">{{'Accepted' | translate}}</span>
                                    </div>
                                </td>
                                <td class="padding-left right padding-right">{{ getAcceptedQuantityTotal(moment_price) | number: "1.2-2":"fr" }}</td>
                                <td class="padding-left center padding-right">{{'hours' | translate}}</td>
                                <td class="padding-left right padding-right">{{ moment_price | number: "1.2-2":"fr" }}</td>
                                <td class="padding-left right padding-right"></td>
                                <td class="padding-left right padding-right">{{ getAcceptedMomentsTotal(moment_price) | number: "1.2-2":"fr" }}</td>
                            </tr>
                            <tr *ngIf="getDeclinedMomentsTotal(moment_price) != 0">
                                <td class="padding-left left padding-right" colspan="2">
                                    <div class="description-position">
                                        {{ report['report']['name'] }} <span class="decline">{{'Declined' | translate}}</span>
                                    </div>
                                </td>
                                <td class="padding-left right padding-right">{{ getDeclinedQuantityTotal(moment_price) | number: "1.2-2":"fr" }}</td>
                                <td class="padding-left center padding-right">{{'hours' | translate}}</td>
                                <td class="padding-left right padding-right">{{ moment_price | number: "1.2-2":"fr" }}</td>
                                <td class="padding-left right padding-right">{{ getDeclinedMomentsTotal(moment_price) | number: "1.2-2":"fr" }}</td>
                                <td class="padding-left right padding-right"></td>
                            </tr>
                        </ng-container>
                        <tr *ngIf="getAcceptedQuantityManualTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="accept">{{'Accepted' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{ 1 | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td class="padding-left right padding-right">{{ getAcceptedMomentsManualTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td class="padding-left right padding-right">{{ getAcceptedMomentsManualTotal | number: "1.2-2":"fr" }}</td>
                        </tr>
                        <tr *ngIf="getDeclinedQuantityManualTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="decline">{{'Declined' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{ 1 | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td class="padding-left right padding-right">{{ getDeclinedMomentsManualTotal | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left right padding-right">{{ getDeclinedMomentsManualTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                        </tr>
                    </ng-container>
                    <tr *ngIf="exist_material_work">
                        <td colspan="2"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <ng-container>
                        <tr *ngIf="exist_material_work">
                            <td class="padding-left left padding-right" colspan="2"><b>{{'Leverantörsfakturor / Material' | translate}}</b></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr *ngIf="getAcceptedMaterialsQuantityTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="accept">{{'Accepted' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{1 | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left center padding-right">{{'st.' | translate}}</td>
                            <td class="padding-left right padding-right">{{getAcceptedMaterialsTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td class="padding-left right padding-right">{{ getAcceptedMaterialsTotal | number: "1.2-2":"fr" }}</td>
                        </tr>
                        <tr *ngIf="getDeclinedMaterialsQuantityTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="decline">{{'Declined' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{1 | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left center padding-right">{{'st.' | translate}}</td>
                            <td class="padding-left right padding-right">{{getDeclinedMaterialsTotal | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left right padding-right">{{ getDeclinedMaterialsTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                        </tr>
                    </ng-container>
                    <tr *ngIf="exist_other_work">
                        <td colspan="2"></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                        <td></td>
                    </tr>
                    <ng-container>
                        <tr *ngIf="exist_other_work">
                            <td class="padding-left left padding-right" colspan="2"><b>{{'UE/Other' | translate}}</b></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                            <td></td>
                        </tr>
                        <tr *ngIf="getAcceptedOthersQuantityTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="accept">{{'Accepted' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{1 | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left center padding-right">{{'st.' | translate}}</td>
                            <td class="padding-left right padding-right">{{ getAcceptedOthersTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                            <td class="padding-left right padding-right">{{ getAcceptedOthersTotal | number: "1.2-2":"fr" }}</td>
                        </tr>
                        <tr *ngIf="getDeclinedOthersQuantityTotal != 0">
                            <td class="padding-left left padding-right" colspan="2">
                                <div class="description-position">
                                    {{ report['report']['name'] }} <span class="decline">{{'Declined' | translate}}</span>
                                </div>
                            </td>
                            <td class="padding-left right padding-right">{{1 | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left center padding-right">{{'st.' | translate}}</td>
                            <td class="padding-left right padding-right">{{ getDeclinedOthersTotal | number: "1.2-2":"fr" }}</td>
                            <td class="padding-left right padding-right">{{ getDeclinedOthersTotal | number: "1.2-2":"fr" }}</td>
                            <td></td>
                        </tr>
                    </ng-container>
                    <tr class="row-black-last">
                        <td class="padding-left right padding-right nameofsumma" colspan="6">{{'TSC_SUM_TOTAL' | translate}}</td>
                        <td class="padding-left right padding-right total-td">{{ calculateSumTotal() | number: "1.2-2":"fr" }}</td>
                    </tr>
                </tbody>
            </table>
            <div class="footnote-table">
                <span>{{'alla priser är exklusive moms' | translate}}</span>
            </div>
            <div class="col-md-12">
                <div id="submitButton" class="row mt-5 mb-3 flex-container justify-content-between btn-wrapper" *ngIf="showSubmitButton">
                    <div class="btn-back">
                        <button (click)="goToPreviousStep()" class="prevbtn">
                            <span class="material-icons" style="font-size: 25px">keyboard_arrow_left</span>
                        </button>
                    </div>
                    <div class="btn-send" *ngIf="!spinner">
                        <button class="sentbtn" form="my-form" type="button" (click)="submit(report)" [disabled]="spinner">
                            <span class="mr-2">{{ "Send" | translate }}</span>
                            <span class="sentsvg">
                                <svg xmlns="http://www.w3.org/2000/svg" width="28.272" height="28.272" viewBox="0 0 28.272 28.272">
                                    <path id="send" d="M21.883,0,0,12.309,6.993,14.9,17.78,4.787l-8.2,11.069.007,0-.008,0v6.027L13.5,17.308l4.968,1.84Z" transform="translate(7.842) rotate(21)" fill="#fff"/>
                                </svg>
                            </span>
                        </button>
                    </div>
                </div>
            </div>
        </div>
        <div *ngIf="currentStep == 'alreadyAnswered'" class="text-center">
            <div class="txt-header">
                <span class="material-icons done-symbol"> done </span>
            </div>
            <h1>{{ "Debiteringsunderlaget är attesterat" | translate }}</h1>
           <!-- <h3>{{ "Sincerely" | translate }} </h3> -->
        </div>
        <div class="mt-4 d-flex justify-content-center math-spinner" *ngIf="spinner">
            <mat-spinner></mat-spinner>
        </div>
        <div *ngIf="
            errorMessage && currentStep != 'alreadyAnswered' && currentStep != 'step4'
            " class="row text-danger flex-container justify-content-end">
            <h6>{{ "Please approve items or give your comments" | translate }}</h6>
        </div>
        <div class="row mt-0 justify-content-between" [ngStyle]="{
            'flex-direction': shouldShowBackButton() ? 'row' : 'row-reverse'
            }">
            <div *ngIf="shouldShowBackButton()">
                <button (click)="goToPreviousStep()" class="prevbtn">
                    <span class="material-icons" style="font-size: 36px">keyboard_arrow_left</span>
                </button>
            </div>
            <div id="nextButton" class="row mt-0 mb-5 ml-5 flex-container justify-content-end" *ngIf="!showSubmitButton && currentStep != 'alreadyAnswered'">
                <button class="nextbtn" (click)="switchStep()">
                    {{ "Next" | translate }}
                    <span class="material-icons carret-position-right">keyboard_arrow_right</span>
                </button>
            </div>
        </div>
    </div>
    <div *ngIf="offDiv" class="gallery" style="position: fixed;
            /*max-width: 1543px;*/
            width: 85%;
            top: -25px;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 20px 0px 20px 240px;
            z-index: 5000;
            flex-direction: row-reverse;">
        <ng-template #otherComponent>
            <app-gallery
                style="flex: 1; overflow:auto;"
                *ngIf="swiper.images.length"
                [swiper]="swiper"
                [canRemove]="false"
                (removeImageEvent)="removeSwiperImage($event)"
                (closeSwiperEvent)="closeSwiper()"
                [server]="true"
                position="relative"
            ></app-gallery>
        </ng-template>
        <ng-container *ngIf="isPDFViewer; else otherComponent">
            <app-pdfjs-viewer
                style="flex: 1; overflow:auto;"
                *ngIf="swiper.images.length"
                [swiper]="swiper"
                [canRemove]="false"
                (removeImageEvent)="removeSwiperImage($event)"
                (closeSwiperEvent)="closeSwiper()"
                [server]="true"
                position="relative"
            ></app-pdfjs-viewer>
        </ng-container>
    </div>
<!--
    <div class="document-wrapper">
        <div class="pdf-wraper" *ngIf="currentStep != 'alreadyAnswered'">
            <ng-container *ngFor="let file of getAlbumFiles('50000', 'pdfs'); let index = index">
                <div class="card-wrapper" [ngClass]="{'card-wrapper-active': file.pdf_type == currentStep, 'card-wrapper-clicked': index == active_index}">
                    <app-pdfjs-preview
                        style="display: flex; cursor: pointer; width: 68px;"
                        type="pdf"
                        (click)="closeAndOpen(index, '50000', 'card-wrapper');"
                        [pdfUrls]="[file['file_path']]"
                        [deleted]=""
                        [canRemove]="(getActiveDU() && getActiveDU().status == 0) || file.Category == '0'"
                        [index]="index"
                        [active]="index"
                        [canvas_width]="44"
                        [canvas_height]="31"
                        [borderRadius]="'0px 0px 0px 0px'"
                        [folder]="true"
                        [svg_width]="43"
                        [svg_height]="46"
                    ></app-pdfjs-preview>
                    <div class="file-name">
                        {{file['name']}}
                    </div>
                </div>
            </ng-container>
        </div>
        <div *ngIf="offDiv" class="gallery" style="position: fixed;
            /*max-width: 1543px;*/
            width: 85%;
            top: -25px;
            left: 0;
            right: 0;
            bottom: 0;
            padding: 20px 0px 20px 240px;
            z-index: 5000;
            flex-direction: row-reverse;">
            <ng-template #otherComponent>
                <app-gallery
                    style="flex: 1; overflow:auto;"
                    *ngIf="swiper.images.length"
                    [swiper]="swiper"
                    [canRemove]="false"
                    (removeImageEvent)="removeSwiperImage($event)"
                    (closeSwiperEvent)="closeSwiper()"
                    [server]="true"
                    position="relative"
                ></app-gallery>
            </ng-template>
            <ng-container *ngIf="isPDFViewer; else otherComponent">
                <app-pdfjs-viewer
                    style="flex: 1; overflow:auto;"
                    *ngIf="swiper.images.length"
                    [swiper]="swiper"
                    [canRemove]="false"
                    (removeImageEvent)="removeSwiperImage($event)"
                    (closeSwiperEvent)="closeSwiper()"
                    [server]="true"
                    position="relative"
                ></app-pdfjs-viewer>
            </ng-container>
        </div>
    </div>-->
</div>
<div class="footer-wrapper">
    <div class="content-position">
        <svg id="Component_261" data-name="Component 261" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="80" height="100" viewBox="0 0 55.952 69.77">
            <defs>
              <clipPath id="clip-path">
                <rect id="Rectangle_17487" data-name="Rectangle 17487" width="55.952" height="69.77" fill="none"/>
              </clipPath>
            </defs>
            <g id="Group_7364" data-name="Group 7364">
                <g id="Group_7363" data-name="Group 7363" clip-path="url(#clip-path)">
                    <path id="Path_5028" data-name="Path 5028" d="M183.564,180.167a1.383,1.383,0,0,0,1.271.8c1.041,0,1.734-.353,1.734-2.076a4.662,4.662,0,0,0-.235-1.469c-.049-.158-.119-.326-.325-.326a.985.985,0,0,0-.3.086l-.038.015a.262.262,0,0,0-.174.263.69.69,0,0,0,.051.22c.014.039.029.082.041.128a3.555,3.555,0,0,1,.126.942c0,1.034-.294,1.216-.911,1.216-.44,0-.85-.161-.868-1.336a.428.428,0,0,0-.446-.479c-.384,0-.429.277-.429.482h0c-.02.967-.185,1.491-1,1.491-.649,0-1.051-.235-1.051-1.4a3.522,3.522,0,0,1,.09-.923c.008-.029.015-.056.023-.082a1.041,1.041,0,0,0,.053-.268.3.3,0,0,0-.165-.283l-.016-.007a1.348,1.348,0,0,0-.362-.093c-.2,0-.284.165-.335.331a4.872,4.872,0,0,0-.145,1.334c0,1.6.633,2.385,1.935,2.385a1.451,1.451,0,0,0,1.479-.953" transform="translate(-130.652 -128.419)" fill="#ff7000"/>
                    <path id="Path_5030" data-name="Path 5030" d="M184.256,200.954a3,3,0,0,0-.369-1.539c1.317.135,1.824.408,1.824,1.805a4.751,4.751,0,0,1-.059.741l0,.011c0,.025-.008.054-.013.085a1.279,1.279,0,0,0-.023.2.279.279,0,0,0,.176.255l.057.017a1.607,1.607,0,0,0,.319.07.283.283,0,0,0,.271-.213,4.435,4.435,0,0,0,.132-1.2c0-2.59-1.77-2.807-3.583-2.807-1.936,0-2.838.735-2.838,2.312,0,1.506.727,2.3,2.1,2.3s2.006-.631,2.006-2.046M181,200.745a1.153,1.153,0,0,1,1.064-1.3h0a3.774,3.774,0,0,1,.6-.045.546.546,0,0,1,.3.064,1.758,1.758,0,0,1,.449,1.392c0,.8-.351,1.161-1.139,1.161-.89,0-1.27-.381-1.27-1.275" transform="translate(-130.651 -143.877)" fill="#ff7000"/>
                    <path id="Path_5032" data-name="Path 5032" d="M185.961,225.568a2.142,2.142,0,0,0,.607-1.783c0-1.741-.934-2.451-3.223-2.451-2.36,0-3.2.619-3.2,2.365,0,1.781.855,2.413,3.267,2.413a4.092,4.092,0,0,0,2.546-.544m-4.956-1.859c0-.821.164-1.359,2.357-1.359,2.171,0,2.348.633,2.348,1.4,0,.917-.226,1.349-2.3,1.349-2.247,0-2.409-.524-2.409-1.387" transform="translate(-130.651 -160.521)" fill="#ff7000"/>
                    <path id="Path_5034" data-name="Path 5034" d="M9.408,184.631l-2.584-.71c-2.916-.771-3.434-1.649-3.434-2.482,0-1.272.758-2.449,4.265-2.449a19.286,19.286,0,0,1,3.977.419c.074.011.156.025.238.04a1.071,1.071,0,0,0,1.311-.85,1,1,0,0,0-.676-1.325,23.976,23.976,0,0,0-4.813-.454c-4.5,0-6.785,1.608-6.785,4.78,0,2.221,1.357,3.646,4.149,4.358l2.915.774c2.784.75,3.509,1.317,3.509,2.386,0,.762-.275,2.545-4.487,2.545a20.366,20.366,0,0,1-5.145-.82l-.152-.046a1.055,1.055,0,0,0-1.471.652c-.236.726-.015,1.231.361,1.363a21.625,21.625,0,0,0,6.333,1.054c3.2,0,7.007-.835,7.007-4.812,0-2.678-1.656-3.65-4.517-4.423" transform="translate(-0.092 -128.237)" fill="#e67314"/>
                    <path id="Path_5035" data-name="Path 5035" d="M129.373,184.507l-2.585-.71c-3-.795-3.408-1.684-3.408-2.449,0-1.647,1.344-2.414,4.231-2.414a19.3,19.3,0,0,1,3.978.42c.061.009.134.021.207.034l.026,0a1.1,1.1,0,0,0,1.35-.875,1.214,1.214,0,0,0-.109-.943.938.938,0,0,0-.593-.424,24.011,24.011,0,0,0-4.821-.455c-4.526,0-6.82,1.62-6.82,4.814,0,2.239,1.365,3.675,4.173,4.391l2.915.775c2.962.8,3.483,1.394,3.483,2.353,0,2.075-2.421,2.51-4.453,2.51a20.339,20.339,0,0,1-5.135-.819l-.152-.046c-.774-.239-1.291-.01-1.514.675-.254.784.018,1.278.378,1.4a21.689,21.689,0,0,0,6.349,1.058c3.212,0,7.041-.841,7.041-4.846,0-2.7-1.665-3.678-4.542-4.456" transform="translate(-87.063 -128.147)" fill="#ff7000"/>
                    <path id="Path_5036" data-name="Path 5036" d="M9.326,184.507,6.74,183.8c-3-.795-3.408-1.684-3.408-2.449,0-1.647,1.344-2.414,4.231-2.414a19.3,19.3,0,0,1,3.978.42c.061.009.134.021.207.034l.026,0a1.105,1.105,0,0,0,1.35-.875,1.214,1.214,0,0,0-.109-.943.938.938,0,0,0-.593-.424,24.011,24.011,0,0,0-4.821-.455c-4.526,0-6.82,1.62-6.82,4.814,0,2.239,1.365,3.675,4.173,4.391l2.915.775c2.962.8,3.483,1.394,3.483,2.353,0,2.075-2.421,2.51-4.453,2.51a20.338,20.338,0,0,1-5.135-.819l-.152-.046c-.774-.239-1.291-.01-1.514.675-.254.784.018,1.278.378,1.4a21.689,21.689,0,0,0,6.349,1.058c3.212,0,7.042-.841,7.042-4.846,0-2.7-1.665-3.678-4.542-4.456" transform="translate(0 -128.147)" fill="#ff7000"/>
                </g>
            </g>
            <g id="Group_7366" data-name="Group 7366">
                <g id="Group_7365" data-name="Group 7365" clip-path="url(#clip-path)">
                    <path id="Path_5037" data-name="Path 5037" d="M64.084,175.7a1.187,1.187,0,0,0-.707.227.863.863,0,0,0-.317.749v16.2a.573.573,0,0,0,.065.269l.023.033c.082.123.331.493,1.188.493a1.308,1.308,0,0,0,1.174-.488l.026-.033a.524.524,0,0,0,.076-.274v-4.083h4.879a10.041,10.041,0,0,0,2.923-.378c1.428-.441,3.825-1.855,3.825-6.366,0-5.718-4.709-6.262-5.246-6.305-.364-.029-.746-.044-1.137-.044Zm6.52,10.68H65.613V177.85h5.048a9.506,9.506,0,0,1,1.258.086c.723.1,2.787,1.049,2.787,4.051,0,3.383-1.694,3.942-2.251,4.126l-.062.021a5.576,5.576,0,0,1-1.788.245" transform="translate(-45.734 -127.424)" fill="#ff7000"/>
                </g>
            </g>
            <g id="Group_7368" data-name="Group 7368">
                <g id="Group_7367" data-name="Group 7367" clip-path="url(#clip-path)">
                    <path id="Path_5038" data-name="Path 5038" d="M28.7,45.173A22.586,22.586,0,1,1,51.282,22.586,22.612,22.612,0,0,1,28.7,45.173m0-42.882a20.3,20.3,0,1,0,20.3,20.3,20.318,20.318,0,0,0-20.3-20.3" transform="translate(-4.431)" fill="#ff7000"/>
                    <path id="Path_5039" data-name="Path 5039" d="M38.6,51.373l7.338,4.243,6.317-3.648,6.308,3.648,7.342-4.24.012-8.485L59.6,39.242V31.93L52.27,27.688l-7.35,4.241v7.319l-6.314,3.644Zm19.962,1.859L53.3,50.181v-6.1l5.286-3.05,5.276,3.051-.012,6.1Zm-12.625,0L40.67,50.181v-6.1l5.286-3.05,5.27,3.051v6.1Zm6.315-10.963-5.272-3.051v-6.1l5.286-3.05,5.269,3.051v6.1Z" transform="translate(-27.998 -20.08)" fill="#ff7000"/>
                </g>
            </g>
        </svg>
        <div class="fotter-bottom">
            {{'Underlag skapad i Structure Project System 360 ©' | translate}}
        </div>
    </div>
</div>
<div class="aside" [ngClass]="{ 'aside-show': showPdfPreview }">
    <div class="weekly-report-pdf" *ngIf="whichPdfPreview">
        <iframe class="pdfDisplay" [src]="whichPdfPreview" frameborder="0"></iframe>
    </div>
</div>
<!--
<div class="container container-documents" style="margin-bottom: 5rem" *ngIf="getAlbumKeys().length > 0">
    <ng-container *ngFor="let albumKey of getAlbumKeys()">
        <ng-container *ngIf="currentStep != 'alreadyAnswered'">
            <ng-container *ngFor="let file of getAlbumFiles(albumKey, 'images');let index = index">
                <div class="image-card" [ngClass]="{'card-wrapper-clicked': index == active_index_image_card && albumKey == active_album_key}">
                    <app-file-preview
                        type="image"
                        [file]="file"
                        [index]="index"
                        [active]="index"
                        modalType="external-du"
                        (openSwiper)="openSwiper(index, getAlbumFiles(albumKey, 'images'), albumKey, 'image-card')"
                        [canRemove]="(getActiveDU() && getActiveDU().status == 0) || file.Category == '0'"
                    ></app-file-preview>
                </div>
            </ng-container>
            <ng-container *ngFor="let file of getAlbumFiles(albumKey, 'pdfs'); let index = index">
                <div class="document-card card-wrapper" [ngClass]="{'card-wrapper-clicked': index == active_index_document_card && albumKey == active_album_key}">
                    <app-pdfjs-preview
                        style="display: flex; cursor: pointer; width: 68px;"
                        type="pdf"
                        (click)="closeAndOpen(index, albumKey, 'document-card');"
                        [pdfUrls]="[file['file_path']]"
                        [deleted]=""
                        [canRemove]="false"
                        [index]="index"
                        [active]="index"
                        [canvas_width]="44"
                        [canvas_height]="31"
                        [svg_width]="43"
                        [svg_height]="46"
                        [borderRadius]="'0px 0px 0px 0px'"
                        [folder]="true"
                        >
                    </app-pdfjs-preview>
                    <div class="file-name">
                        {{file['name']}}
                    </div>
                </div>
            </ng-container>
        </ng-container>
    </ng-container>
</div>-->