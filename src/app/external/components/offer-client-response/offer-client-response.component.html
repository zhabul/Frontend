<div>
  <div class="icon-sps">
    <svg id="Group_7374" data-name="Group 7374" width="123.948" height="154.558" viewBox="0 0 123.948 154.558">
      <defs>
        <clipPath id="clip-path">
          <rect id="Rectangle_17487" data-name="Rectangle 17487" width="123.948" height="154.558" fill="none"/>
        </clipPath>
      </defs>
      <g id="Group_7364" data-name="Group 7364">
        <g id="Group_7363" data-name="Group 7363" clip-path="url(#clip-path)">
          <path id="Path_5028" data-name="Path 5028" d="M187.713,183.929a3.063,3.063,0,0,0,2.816,1.78c2.306,0,3.841-.782,3.841-4.6a10.329,10.329,0,0,0-.52-3.254c-.109-.35-.264-.723-.721-.723a2.181,2.181,0,0,0-.673.191l-.085.033a.58.58,0,0,0-.386.583,1.529,1.529,0,0,0,.114.488c.03.087.064.182.091.284a7.876,7.876,0,0,1,.28,2.086c0,2.292-.651,2.695-2.019,2.695-.976,0-1.884-.357-1.923-2.959a.949.949,0,0,0-.988-1.061c-.851,0-.95.614-.95,1.069h0c-.044,2.142-.41,3.3-2.212,3.3-1.438,0-2.329-.52-2.329-3.109a7.8,7.8,0,0,1,.2-2.044c.017-.064.034-.124.051-.182a2.309,2.309,0,0,0,.117-.593.662.662,0,0,0-.365-.627l-.035-.016a2.984,2.984,0,0,0-.8-.206c-.453,0-.628.366-.743.733a10.792,10.792,0,0,0-.321,2.955c0,3.555,1.4,5.283,4.287,5.283a3.215,3.215,0,0,0,3.277-2.112" transform="translate(-70.5 -69.295)" fill="#e67314"/>
          <path id="Path_5029" data-name="Path 5029" d="M187.713,183.929a3.063,3.063,0,0,0,2.816,1.78c2.306,0,3.841-.782,3.841-4.6a10.329,10.329,0,0,0-.52-3.254c-.109-.35-.264-.723-.721-.723a2.181,2.181,0,0,0-.673.191l-.085.033a.58.58,0,0,0-.386.583,1.529,1.529,0,0,0,.114.488c.03.087.064.182.091.284a7.876,7.876,0,0,1,.28,2.086c0,2.292-.651,2.695-2.019,2.695-.976,0-1.884-.357-1.923-2.959a.949.949,0,0,0-.988-1.061c-.851,0-.95.614-.95,1.069h0c-.044,2.142-.41,3.3-2.212,3.3-1.438,0-2.329-.52-2.329-3.109a7.8,7.8,0,0,1,.2-2.044c.017-.064.034-.124.051-.182a2.309,2.309,0,0,0,.117-.593.662.662,0,0,0-.365-.627l-.035-.016a2.984,2.984,0,0,0-.8-.206c-.453,0-.628.366-.743.733a10.792,10.792,0,0,0-.321,2.955c0,3.555,1.4,5.283,4.287,5.283A3.215,3.215,0,0,0,187.713,183.929Z" transform="translate(-70.5 -69.295)" fill="none" stroke="#e67314" stroke-miterlimit="10" stroke-width="0.25"/>
          <path id="Path_5030" data-name="Path 5030" d="M189.247,204.076a6.654,6.654,0,0,0-.817-3.408c2.917.3,4.04.9,4.04,4a10.523,10.523,0,0,1-.13,1.642l0,.024c-.007.055-.018.12-.029.188a2.827,2.827,0,0,0-.051.444.618.618,0,0,0,.389.565l.126.037a3.555,3.555,0,0,0,.707.155.628.628,0,0,0,.6-.471,9.825,9.825,0,0,0,.292-2.648c0-5.738-3.921-6.218-7.936-6.218-4.289,0-6.286,1.628-6.286,5.122,0,3.337,1.61,5.1,4.656,5.1,3.073,0,4.443-1.4,4.443-4.531m-7.219-.464a2.553,2.553,0,0,1,2.358-2.872h.007a8.358,8.358,0,0,1,1.323-.1,1.209,1.209,0,0,1,.656.142c.623.447.995,1.6.995,3.084,0,1.78-.778,2.573-2.523,2.573-1.973,0-2.814-.845-2.814-2.825" transform="translate(-70.499 -77.636)" fill="#e67314"/>
          <path id="Path_5031" data-name="Path 5031" d="M189.247,204.076a6.654,6.654,0,0,0-.817-3.408c2.917.3,4.04.9,4.04,4a10.523,10.523,0,0,1-.13,1.642l0,.024c-.007.055-.018.12-.029.188a2.827,2.827,0,0,0-.051.444.618.618,0,0,0,.389.565l.126.037a3.555,3.555,0,0,0,.707.155.628.628,0,0,0,.6-.471,9.825,9.825,0,0,0,.292-2.648c0-5.738-3.921-6.218-7.936-6.218-4.289,0-6.286,1.628-6.286,5.122,0,3.337,1.61,5.1,4.656,5.1C187.877,208.607,189.247,207.21,189.247,204.076Zm-7.219-.464a2.553,2.553,0,0,1,2.358-2.872h.007a8.358,8.358,0,0,1,1.323-.1,1.209,1.209,0,0,1,.656.142c.623.447.995,1.6.995,3.084,0,1.78-.778,2.573-2.523,2.573C182.871,206.438,182.029,205.593,182.029,203.612Z" transform="translate(-70.499 -77.636)" fill="none" stroke="#e67314" stroke-miterlimit="10" stroke-width="0.25"/>
          <path id="Path_5032" data-name="Path 5032" d="M193.026,230.713c1.181-.959,1.345-2.465,1.345-3.95,0-3.856-2.069-5.429-7.14-5.429-5.229,0-7.082,1.371-7.082,5.24,0,3.946,1.894,5.345,7.238,5.345,2.873,0,4.612-.372,5.64-1.206m-10.978-4.118c0-1.819.363-3.01,5.221-3.01,4.81,0,5.2,1.4,5.2,3.1,0,2.032-.5,2.989-5.085,2.989-4.978,0-5.337-1.161-5.337-3.074" transform="translate(-70.499 -86.617)" fill="#e67314"/>
          <path id="Path_5033" data-name="Path 5033" d="M193.026,230.713c1.181-.959,1.345-2.465,1.345-3.95,0-3.856-2.069-5.429-7.14-5.429-5.229,0-7.082,1.371-7.082,5.24,0,3.946,1.894,5.345,7.238,5.345C190.258,231.919,192,231.547,193.026,230.713Zm-10.978-4.118c0-1.819.363-3.01,5.221-3.01,4.81,0,5.2,1.4,5.2,3.1,0,2.032-.5,2.989-5.085,2.989C182.407,229.668,182.048,228.507,182.048,226.595Z" transform="translate(-70.499 -86.617)" fill="none" stroke="#e67314" stroke-miterlimit="10" stroke-width="0.25"/>
          <path id="Path_5034" data-name="Path 5034" d="M20.688,194.123l-5.725-1.572c-6.459-1.708-7.608-3.653-7.608-5.5,0-2.817,1.679-5.424,9.449-5.424a42.725,42.725,0,0,1,8.811.928c.164.024.346.056.528.088a2.373,2.373,0,0,0,2.9-1.883,2.226,2.226,0,0,0-1.5-2.936,53.113,53.113,0,0,0-10.663-1.006c-9.974,0-15.031,3.562-15.031,10.588,0,4.92,3.007,8.077,9.19,9.654l6.457,1.715c6.168,1.66,7.773,2.918,7.773,5.286,0,1.687-.609,5.637-9.94,5.637a45.115,45.115,0,0,1-11.4-1.817c-.1-.029-.215-.065-.338-.1a2.338,2.338,0,0,0-3.258,1.445c-.522,1.609-.034,2.726.8,3.018a47.905,47.905,0,0,0,14.03,2.335c7.081,0,15.523-1.849,15.523-10.659,0-5.933-3.669-8.085-10.006-9.8" transform="translate(-0.05 -69.197)" fill="#e67314"/>
          <path id="Path_5035" data-name="Path 5035" d="M140.706,194l-5.727-1.572c-6.653-1.76-7.55-3.73-7.55-5.425,0-3.649,2.978-5.348,9.373-5.348a42.75,42.75,0,0,1,8.812.929c.135.02.3.047.458.076l.057.01a2.447,2.447,0,0,0,2.992-1.939,2.689,2.689,0,0,0-.24-2.09,2.079,2.079,0,0,0-1.314-.939,53.194,53.194,0,0,0-10.68-1.008c-10.025,0-15.108,3.588-15.108,10.664,0,4.959,3.024,8.142,9.245,9.727l6.458,1.716c6.562,1.765,7.717,3.087,7.717,5.212,0,4.6-5.364,5.561-9.864,5.561a45.057,45.057,0,0,1-11.376-1.814c-.1-.029-.214-.064-.337-.1-1.714-.53-2.861-.021-3.353,1.495-.564,1.737.04,2.83.837,3.11a48.045,48.045,0,0,0,14.065,2.343c7.116,0,15.6-1.862,15.6-10.735,0-5.981-3.689-8.148-10.062-9.871" transform="translate(-46.979 -69.148)" fill="#e67314"/>
          <path id="Path_5036" data-name="Path 5036" d="M20.659,194l-5.727-1.572c-6.653-1.76-7.55-3.73-7.55-5.425,0-3.649,2.978-5.348,9.373-5.348a42.75,42.75,0,0,1,8.812.929c.135.02.3.047.458.076l.057.01a2.449,2.449,0,0,0,2.992-1.939,2.689,2.689,0,0,0-.24-2.09,2.079,2.079,0,0,0-1.314-.939,53.193,53.193,0,0,0-10.68-1.008c-10.025,0-15.108,3.588-15.108,10.664,0,4.959,3.024,8.142,9.245,9.727l6.458,1.716c6.562,1.765,7.717,3.087,7.717,5.212,0,4.6-5.364,5.561-9.864,5.561A45.056,45.056,0,0,1,3.91,207.761c-.1-.029-.214-.064-.337-.1-1.714-.53-2.861-.021-3.353,1.495-.564,1.737.04,2.83.837,3.11a48.046,48.046,0,0,0,14.065,2.343c7.116,0,15.6-1.862,15.6-10.735,0-5.981-3.689-8.148-10.062-9.871" transform="translate(0 -69.148)" fill="#e67314"/>
        </g>
      </g>
      <g id="Group_7366" data-name="Group 7366">
        <g id="Group_7365" data-name="Group 7365" clip-path="url(#clip-path)">
          <path id="Path_5037" data-name="Path 5037" d="M65.328,175.7a2.63,2.63,0,0,0-1.566.5,1.911,1.911,0,0,0-.7,1.659v35.888a1.269,1.269,0,0,0,.145.6l.051.074c.182.272.732,1.092,2.631,1.092a2.9,2.9,0,0,0,2.6-1.082l.057-.072a1.16,1.16,0,0,0,.169-.606V204.7H79.523A22.24,22.24,0,0,0,86,203.868c3.164-.977,8.474-4.109,8.474-14.1,0-12.667-10.432-13.872-11.622-13.968-.806-.064-1.653-.1-2.519-.1Zm14.443,23.66H68.714V180.465H79.9a21.064,21.064,0,0,1,2.787.191c1.6.215,6.174,2.324,6.174,8.975,0,7.495-3.753,8.733-4.987,9.14l-.137.046a12.352,12.352,0,0,1-3.962.542" transform="translate(-24.678 -68.758)" fill="#e67314"/>
        </g>
      </g>
      <g id="Group_7368" data-name="Group 7368">
        <g id="Group_7367" data-name="Group 7367" clip-path="url(#clip-path)">
          <path id="Path_5038" data-name="Path 5038" d="M56.144,100.069a50.034,50.034,0,1,1,50.034-50.035,50.091,50.091,0,0,1-50.034,50.035m0-94.993A44.959,44.959,0,1,0,101.1,50.034,45.009,45.009,0,0,0,56.144,5.076" transform="translate(-2.391)" fill="#e67314"/>
          <path id="Path_5039" data-name="Path 5039" d="M38.6,80.157l16.255,9.4,13.993-8.082,13.974,8.082,16.265-9.392.026-18.8L85.125,53.283v-16.2l-16.248-9.4L52.6,37.082l0,16.214L38.607,61.367Zm44.221,4.118L71.148,77.516V64.008l11.709-6.756,11.687,6.759-.026,13.513Zm-27.968,0L43.18,77.516V64.008l11.709-6.756,11.673,6.759V77.525ZM68.847,59.989,57.168,53.232V39.724l11.709-6.756,11.673,6.759V53.24Z" transform="translate(-15.108 -10.835)" fill="#e67314"/>
        </g>
      </g>
    </svg>
  </div>
    <!-- <app-main-pdf-preview [items]="mainPdf" (pageTotal)="pageTotal($event)"></app-main-pdf-preview> -->
    <!-- Main pdf - images -->
    <div id="main-pdf-preview">
      <div *ngFor="let item of mainPdf; let index = index;">
        <div class="grid-columns">
          <div class="image-container" [ngStyle]="parentStyle" >
            <!-- <embed class="preview-image" [src]="item.image_path" alt="pdf-image-page"/> -->
            <!-- <iframe class="preview-image" [src]="item.image_path | safe" ></iframe> -->
            <canvas id="the-canvas-{{index + 1}}" class="preview-image" height="{{height}}" width="{{width}}"></canvas>
            <div *ngIf="loaded && ((!canAnswer && index < mainPdf.length - 1) || canAnswer)" class="page-footer">
                <div class="small-placeholder left-pos"></div>
                <div class="placeholder"></div>
                <div class="large-placeholder"></div>
                <div class="placeholder"></div>
                <div class="small-placeholder right-pos"></div>
            </div>
          </div>
          <div class="page-info">
            <div class="page-number">{{index + 1}}/{{ canAnswer ? mainPdf.length + 1 : mainPdf.length }}</div>
            <div id="#pageInfo" (click)="moveToForm()">
              <svg xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="44" height="44" viewBox="0 0 44 44">
                <defs>
                  <clipPath id="clip-path">
                    <rect id="Rectangle_17977" data-name="Rectangle 17977" width="26.757" height="22.688" fill="none"/>
                  </clipPath>
                </defs>
                <g id="Group_8578" data-name="Group 8578" transform="translate(-758.188 -2484.188)">
                  <circle id="Ellipse_757" data-name="Ellipse 757" cx="22" cy="22" r="22" transform="translate(758.188 2484.188)" fill="#ff7000"/>
                  <g id="Group_8367" data-name="Group 8367" transform="translate(768.844 2519.566) rotate(-90)" clip-path="url(#clip-path)">
                    <path id="Path_5116" data-name="Path 5116" d="M26.085,10.441c-11.592,0-18.589,0-21.825.053l-1.451.024,1.056-.995C4.728,8.71,6.751,6.8,12.124,1.6a.483.483,0,0,0,.194-.4c0-.086-.1-.2-.189-.315L11.508.175C11.379.047,11.3,0,11.2,0c-.034,0-.141.042-.3.2L.226,10.865v0a.78.78,0,0,0,.006,1.1L10.815,22.5a.785.785,0,0,0,.349.184c.118,0,.189-.056.408-.276l.574-.611a.745.745,0,0,0,.137-.344c0-.154-.118-.327-.383-.56-3.7-3.588-6.375-6.124-7.987-7.555l-1.119-.994,1.5.012c3.291.026,9.912.026,21.931.026a.507.507,0,0,0,.534-.575v-.83c0-.161,0-.54-.671-.54" transform="translate(0 0)" fill="#fff"/>
                  </g>
                </g>
              </svg>
            </div>
          </div>
        </div>
      </div>
    </div>

    <app-client-response-form *ngIf="canAnswer" [item]="offer" [pageTotal]="mainPdf.length + 1"></app-client-response-form>

  </div>

<div *ngIf="images.length || pdfs.length" class="fixed-images blu-scroll" #fixedBlueScroll>
    <div *ngIf="pdfs.length" class="file-type-title">{{ 'Files' | translate }}</div>
    <div *ngIf="pdfs.length" class="images-container" style="margin-top: 20px;">
        <app-file-preview
          *ngFor="let pdf of pdfs; let index = index"
          type="pdf"
          [file]="pdf"
          [index]="index"
          (openSwiper)="openSwiper(index, pdfs, album)"
          [canRemove]="false"
          [active]="activePdf"
          modalType="file"
          [showDate] = "false"
          width="155"
          [offerEmail] = "true"
        ></app-file-preview>
    </div>
    <div *ngIf="images.length" class="file-type-title">{{ 'Images' | translate }}</div>
    <div *ngIf="images.length" class="images-container">
        <app-file-preview

            *ngFor="let image of images; let index = index"
            [type]="'image'"
            [file]="image"
            [index]="index"
            (openSwiper)="openSwiper(index, images, album)"
            [canRemove]="false"
            [active]="activeImage"
            modalType="file"
            [showDate] = "false"
            width="155"
            [offerEmail] = "true"
        ></app-file-preview>
    </div>
    <div [ngStyle]="calcLineHeight()" class="thin-red-line-right"></div>
</div>

<div class="gallery-container" *ngIf="swiper.images.length" >
    <ng-template #otherComponent>
      <app-gallery
        [swiper]="swiper"
        [canRemove]="false"
        (removeImageEvent)="removeSwiperImage($event)"
        (closeSwiperEvent)="closeSwiper()"
        (setActive)="setActive($event)"
        [server]="true"
        position="relative"
      ></app-gallery>
    </ng-template>
    <ng-container *ngIf="isPDFViewer; else otherComponent">
      <app-pdfjs-viewer
        [swiper]="swiper"
        [canRemove]="false"
        (removeImageEvent)="removeSwiperImage($event)"
        (closeSwiperEvent)="closeSwiper()"
        (setActive)="setActive($event)"
        [server]="true"
        position="relative"
      ></app-pdfjs-viewer>
    </ng-container>
</div>

