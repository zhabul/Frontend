<meta name="HandheldFriendly" content="true" />
<div
  class="container-fluidW px-0W l0 mb-5"
  style="margin-top: -21px"
  (click)="closeSelect()"
>
  <div class="row position-relativeX">
    <div class="card col-md-12X col-lg-6X col-lg-8W mb-4">
      <div class="form-heading">
        <div class="d-flex align-items-center border-h-project">
          <div
            class="home"
            (click)="goBack()"
            routerLinkActive="active"
            id="topFeeder"
          >
            <svg
              _ngcontent-dfb-c33=""
              xmlns:xlink="http://www.w3.org/1999/xlink"
              height="29.342"
              viewBox="0 0 34.604 29.342"
              width="34.604"
              xmlns="http://www.w3.org/2000/svg"
            >
              <defs _ngcontent-dfb-c33="">
                <clipPath _ngcontent-dfb-c33="" id="clip-path">
                  <rect
                    _ngcontent-dfb-c33=""
                    data-name="Rectangle 15829"
                    fill="none"
                    height="29.342"
                    id="Rectangle_15829"
                    width="34.604"
                  ></rect>
                </clipPath>
              </defs>
              <g
                _ngcontent-dfb-c33=""
                data-name="Group 4372"
                id="Group_4372"
                transform="translate(0 0)"
              >
                <g
                  _ngcontent-dfb-c33=""
                  clip-path="url(#clip-path)"
                  data-name="Group 4371"
                  id="Group_4371"
                  transform="translate(0 0)"
                >
                  <path
                    _ngcontent-dfb-c33=""
                    d="M33.735,13.5c-14.991,0-24.041,0-28.226.069L3.632,13.6,5,12.316C6.115,11.264,8.731,8.8,15.68,2.068a.625.625,0,0,0,.251-.519c0-.111-.124-.262-.244-.408l-.8-.914C14.716.061,14.615,0,14.483,0c-.044,0-.182.055-.386.259L.293,14.052v0A1.009,1.009,0,0,0,.3,15.481L13.987,29.1a1.016,1.016,0,0,0,.451.238c.153,0,.244-.072.528-.358l.742-.79a.963.963,0,0,0,.177-.445c0-.2-.153-.423-.5-.725-4.779-4.64-8.245-7.92-10.33-9.771L3.613,15.969l1.935.015c4.256.034,12.819.034,28.364.034a.656.656,0,0,0,.691-.743V14.2c0-.209,0-.7-.868-.7"
                    data-name="Path 1822"
                    fill="#82a7e2"
                    id="Path_1822"
                    transform="translate(0 0)"
                  ></path>
                </g>
              </g>
            </svg>
          </div>
          <div class="project text-muted">
            <div
              [ngClass]="
                projects_for_select.length > 1 && selectOpen
                  ? 'toggle-project'
                  : 'none-toggle-project'
              "
            >
              <h4
                class="posRel fs-18 title-project-color title-head-wrapp"
                (click)="toggleselectOpen($event)"
              >
                <div
                  class="project-name-len"
                  title="{{ project.CustomName | translate }} {{
                    project.name | translate
                  }}"
                >
                  {{ project.CustomName }}&nbsp;{{ project.name }}
                </div>
                <i
                  class="material-icons email"
                  *ngIf="projects_for_select.length > 1"
                >
                  expand_more
                </i>
              </h4>

              <div
                class="custom-select-for-project"
                *ngIf="projects_for_select.length > 1 && selectOpen"
                style="background-color: #c2d8fa"
              >
                <div>
                  <ng-template #recursiveList let-projects>
                    <div *ngFor="let item of projects; let i = index">
                      <div
                        style="
                          display: grid;
                          grid-template-columns: 178px 1fr 1fr;
                          color: black;
                        "
                        (click)="selectProject(item)"
                      >
                        <div
                          [ngStyle]="{
                            'padding-left': item.level * 7.5 + 'px'
                          }"
                          style="margin-top: -1px; cursor: pointer"
                        >
                          <div>
                            <div
                              [ngStyle]="{
                                'background-color': getStatusColor(item.status),
                                'text-decoration': item.status == 5 ? 'line-through' : 'none',
                                'text-decoration-color': 'red',
                                'border-bottom': item.level == 0 ? 'none' : '1px solid var(--border-color)',
                                'border-left': item.level == 0 ? 'none' : '1px solid var(--border-color)'
                              }"

                              style="
                                border-left: 1px solid var(--border-color);
                                border-bottom: 1px solid var(--border-color);
                                position: relative;
                                border-top: 1px solid var(--border-color);
                                padding-left: 10px;
                              "
                              [class.active]="project_id == item.id"
                            >
                              {{ item.name }}
                            </div>
                          </div>
                        </div>
                        <div
                          [ngStyle]="{
                            'background-color': getStatusColor(item.status),
                            'text-decoration': item.status == 5 ? 'line-through' : 'none',
                            'text-decoration-color': 'red'
                          }"
                          style="
                            border-bottom: 1px solid var(--border-color);
                            padding-left: 10px;
                            cursor: pointer;
                          "
                          [class.active]="project_id == item.id"
                        >
                          {{ item.CustomName }}
                        </div>
                        <div
                          [ngStyle]="{
                            'background-color': getStatusColor(item.status),
                            'text-decoration': item.status == 5 ? 'line-through' : 'none',
                            'text-decoration-color': 'red'
                          }"
                          style="
                            border-bottom: 1px solid var(--border-color);
                            padding-left: 10px;
                            cursor: pointer;
                          "
                          [class.active]="project_id == item.id"
                        >
                          {{ item.CustomName }}
                        </div>
                      </div>

                      <div *ngIf="item.activities.length > 0">
                        <ng-container
                          *ngTemplateOutlet="
                            recursiveList;
                            context: { $implicit: item.activities }
                          "
                        ></ng-container>
                      </div>
                    </div>
                  </ng-template>
                  <ng-container
                    *ngTemplateOutlet="
                      recursiveList;
                      context: { $implicit: projects }
                    "
                  ></ng-container>
                </div>
              </div>
            </div>
          </div>
        </div>

        <div class="triangle project-management" (click)="buttonNameToggle()">
          <a
            [class.border-brand-press]="buttonToggle == true"
            class="btn border-brand projekt btn-icon-postion ml-4"
            (mouseenter)="enter()"
            (mouseleave)="leave()"
            *ngIf="buttonName == 'Project Management' && userDetails?.show_project_Information"
          >
            <div class="project-content">
              <button
                [class.button-press]="buttonToggle == true"
                [ngClass]="currentClass"
                class="btn project-button bg-transparent"
              >
                {{ buttonName | translate }}
              </button>
              <svg
                [ngClass]="currentClass"
                id="Group_306"
                *ngIf="buttonToggle == false"
                data-name="Group 306"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="13"
                height="8"
                viewBox="0 0 15 8"
              >
                <defs>
                  <clipPath id="clip-path">
                    <path
                      id="Path_758"
                      data-name="Path 758"
                      d="M0,.274H15v-8H0Z"
                      transform="translate(0 7.726)"
                      fill="#82a7e2"
                    />
                  </clipPath>
                </defs>
                <g
                  id="Group_305"
                  data-name="Group 305"
                  clip-path="url(#clip-path)"
                >
                  <g
                    id="Group_304"
                    data-name="Group 304"
                    transform="translate(0 0)"
                  >
                    <path
                      id="Path_757"
                      data-name="Path 757"
                      d="M.035.041,6.668,6.6a.872.872,0,0,0,.678.249h.075A.872.872,0,0,0,8.1,6.6L14.695.041a.665.665,0,0,0,.17-.5.52.52,0,0,0-.32-.435l-.226-.124a1.251,1.251,0,0,0-.641-.14.784.784,0,0,0-.565.264L7.384,4.7,1.655-.891a.784.784,0,0,0-.565-.264,1.251,1.251,0,0,0-.641.14L.186-.891a.52.52,0,0,0-.32.435.665.665,0,0,0,.17.5"
                      transform="translate(0.136 1.156)"
                      fill="currentColor"
                    />
                  </g>
                </g>
              </svg>

              <svg
                transform="rotate(180)"
                id="Group_306"
                *ngIf="buttonToggle == true"
                data-name="Group 306"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="13"
                height="8"
                viewBox="0 0 15 8"
              >
                <defs>
                  <clipPath id="clip-path">
                    <path
                      id="Path_758"
                      data-name="Path 758"
                      d="M0,.274H15v-8H0Z"
                      transform="translate(0 7.726)"
                      fill="#82a7e2"
                    />
                  </clipPath>
                </defs>
                <g
                  id="Group_305"
                  data-name="Group 305"
                  clip-path="url(#clip-path)"
                >
                  <g
                    id="Group_304"
                    data-name="Group 304"
                    transform="translate(0 0)"
                  >
                    <path
                      id="Path_757"
                      data-name="Path 757"
                      d="M.035.041,6.668,6.6a.872.872,0,0,0,.678.249h.075A.872.872,0,0,0,8.1,6.6L14.695.041a.665.665,0,0,0,.17-.5.52.52,0,0,0-.32-.435l-.226-.124a1.251,1.251,0,0,0-.641-.14.784.784,0,0,0-.565.264L7.384,4.7,1.655-.891a.784.784,0,0,0-.565-.264,1.251,1.251,0,0,0-.641.14L.186-.891a.52.52,0,0,0-.32.435.665.665,0,0,0,.17.5"
                      transform="translate(0.136 1.156)"
                      fill="#FF7F00"
                    />
                  </g>
                </g>
              </svg>
            </div>
          </a>
          <ng-container *ngIf="(buttonToggle == true && showSubProject && project.activity == 0) || (buttonToggle == true && showSubProject && project.activity > 0 && project.number_of_sub_activities > 0)">
            <ng-container *ngIf="(buttonToggle == true && project.status != 3 && project.status != 5 && userDetails.create_project_Information)">
              <a
                class="btn sub-project-button btn-icon-postion text-uppercase"
                routerLinkActive="active"
                [routerLink]="['/projects/newSubProject', project.id]"
                (mouseenter)="enterSub()"
                (mouseleave)="leaveSub()"
                [ngClass]="subsClass"
              >
                <svg
                  xmlns="http://www.w3.org/2000/svg"
                  class="add-icon"
                  width="30"
                  viewBox="0 0 24 24"
                  fill="currentColor"
                >
                  <path
                    fill-rule="evenodd"
                    d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"
                    clip-rule="evenodd"
                  />
                </svg>
                {{ "New sub project/activity" | translate }}</a
              >
            </ng-container>
          </ng-container>
        </div>
      </div>

      <div
        hiddenX
        class="whatevs"
        *ngIf="buttonToggle == true"
        [ngClass]="
          buttonName == 'Project Management' ? 'animatedShow' : 'd-none'
        "

        id="collapseExampleX"
      >
        <menu-bar [project_id]="project_id" [project]="project"></menu-bar>

        <div class="form-wrapper">
          <div class="form-column-wrapper form-column-wrapper-position">
            <div class="form-column">
              <div class="form-group">
                <label for="projectName">{{ "Project" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="projectName"
                  [value]="project.CustomName + ' ' + project.name"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="contactPerson">{{
                  "Contact person" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="contactPerson"
                  [value]="project.deliveryFullName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="contactPerson">{{ "Telephone" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="telephone"
                  [value]="project.deliveryMobileNumber"
                  readonly
                />
              </div>
            </div>
            <div class="form-column">
              <div class="form-group">
                <label for="street">{{
                  "Street and Number" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="street"
                  [value]="project.street"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="zip">{{ "Zip code" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="zip"
                  [value]="project.zip"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="name">{{ "City" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="name"
                  [value]="project.city"
                  readonly
                />
              </div>
            </div>
            <div class="form-column">
              <div class="form-group">
                <label for="client">{{ "Client" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="client"
                  [value]="project.clientName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="clientContactPerson">{{
                  "Contact person" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="clientContactPerson"
                  [value]="project.attestWorkerFullName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="clientContactPerson">{{
                  "Telephone" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="clientContactPerson"
                  [value]="project.clientMobileNumber"
                  readonly
                />
              </div>
            </div>
          </div>
        </div>
      </div>
      <div
        [class.custom-nav-wrapper]="buttonToggle == true"
        class="tab-navigation-wrapper"
        id="style-1"
        [ngStyle]="{ width: currentTab == 2 ? '1403px' : '1390px' }"
      >
        <div *ngIf="buttonToggle == true" class="custom-name ml-2">
          <p class="custom-name-title pt-1 mb-0">{{ project.CustomName }}</p>
        </div>
        <div class="tab-navigation-wrapper" style="margin-left: -2px">
          <div class="tab-navigation mt-2">
            <ul
              class="nav nav-tabs nav-pills mobileGrid text-uppercase"
              role="tablist"
            >
              <li
                *ngIf="userDetails.show_project_Order"
                class="nav-item"
                (click)="canYouChangeTab(1)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 1 }">{{
                  "Order" | translate
                }}</a>
              </li>
              <li
                *ngIf="ensureAtest()"
                class="nav-item"
                (click)="canYouChangeTab(2)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 2 }">{{
                  "Time Attest" | translate
                }}</a>
              </li>
              <li
                *ngIf="userDetails.show_project_Attachment || attachments.length > 0"
                class="nav-item"
                (click)="canYouChangeTab(3)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 3 }">{{
                  "Attachment And Documents" | translate
                }}</a>
              </li>
              <li
                *ngIf="ensureDeviationShow()"
                class="nav-item"
                (click)="canYouChangeTab(5)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 5 }">{{
                  "Deviation" | translate
                }}</a>
              </li>
              <li
                *ngIf="ensureAtaShow()"
                class="nav-item"
                (click)="canYouChangeTab(4)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 4 }">{{
                  "ATA" | translate
                }}</a>
              </li>
              <li
                *ngIf="
                  userDetails.show_project_WeeklyReport &&
                  project?.debit_Id != 2
                "
                class="nav-item"
              >
                <a
                  class="nav-link"
                  [routerLink]="[
                    '/projects/view/du',
                    project.id,
                  ]"
                  role="tab"
                >
                  {{ "Weekly Report" | translate }}</a
                >
              </li>
              <li
                *ngIf="userDetails.show_project_SupplierInvoices"
                class="nav-item dropdown"
              >
                <a
                  class="nav-link"
                  [routerLink]="[
                    '/projects/view',
                    project.id,
                    'supplier-invoices'
                  ]"
                  role="tab"
                  [queryParams]="{ loc: 'supplier_invoices' }"
                >
                  {{ "Supplier Invoices" | translate }}</a
                >
              </li>
              <li class="nav-item">
                <a
                  (click)="toProjectPlan(project.id, 'project-view')"
                  class="nav-link"
                  *ngIf="userDetails.show_project_Plan"
                  [ngClass]="{ active: currentTab == 7 }"
                  >{{ "Project plan" | translate }}</a
                >
              </li>
              <li
                *ngIf="userDetails.show_project_Permit"
                class="nav-item"
                (click)="canYouChangeTab(6)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 6 }">{{
                  "Permit" | translate
                }}</a>
              </li>
              <li class="nav-item dropdown" *ngIf="userDetails.show_project_Forecast">
                <a class="nav-link" role="tab" (click)="canYouChangeTab(11)">
                  {{ "forecast" | translate | uppercase }}</a
                >
              </li>
              <li
                *ngIf="ensureOwnControl()"
                class="nav-item"
                (click)="canYouChangeTab(10)"
              >
                <a class="nav-link" [ngClass]="{ active: currentTab == 10 }">{{
                  "Quality Control" | translate
                }}</a>
              </li>
            </ul>
          </div>
          <div class="tab-content">
            <div *ngIf="currentTab == 0" id="project-list" role="tabpanel">
              <div class="d-flex mt-4 buttons-cont">
                <div class="d-flex">
                  <div
                    class="d-flex border-item p-1 mr-4 cursor-pointer"
                    style="border-style: none; margin-top: 6px"
                  >
                    <form style="display: flex; grid-gap: 5px">
                      <div
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                        (click)="onStatusChange('all')"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['all'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['all'] == true"
                            id="Bocka_av_icon"
                            data-name="Bocka av icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#ff7000"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>

                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "All" | translate
                          }}</span>
                        </div>
                      </div>
                      <div
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                        (click)="onStatusChange('1')"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['1'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['1'] == true"
                            id="Bocka_av_icon"
                            data-name="Bocka av icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#f0e264"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>

                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "On Hold" | translate
                          }}</span>
                        </div>
                      </div>
                      <div
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                        (click)="onStatusChange('2')"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['2'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['2'] == true"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#b2e282"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>
                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "In Progress" | translate
                          }}</span>
                        </div>
                      </div>
                      <div
                        (click)="onStatusChange('4')"
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['4'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['4'] == true"
                            id="Bocka_av_icon"
                            data-name="Bocka av icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#fca85e"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>
                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "Awaiting inspection" | translate
                          }}</span>
                        </div>
                      </div>

                      <div
                        (click)="onStatusChange('3')"
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['3'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['3'] == true"
                            id="Bocka_av_icon"
                            data-name="Bocka av icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#fff"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>
                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "Completed" | translate
                          }}</span>
                        </div>
                      </div>

                      <div
                        (click)="onStatusChange('5')"
                        class="d-flex border-item p-1 mr-4 cursor-pointer"
                      >
                        <div style="margin-left: 3px; margin-bottom: 2px">
                          <svg
                            *ngIf="statusObjectProject['5'] == false"
                            id="X_icon"
                            data-name="X icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <path
                                  id="Path_736"
                                  data-name="Path 736"
                                  d="M0,5.951H12v-12H0Z"
                                  transform="translate(0 6.049)"
                                  fill="#fff"
                                />
                              </clipPath>
                            </defs>
                            <g id="X_icon-2" data-name="X icon">
                              <g
                                id="Group_291"
                                data-name="Group 291"
                                clip-path="url(#clip-path)"
                              >
                                <g
                                  id="Group_289"
                                  data-name="Group 289"
                                  transform="translate(-0.001 0.002)"
                                >
                                  <path
                                    id="Path_734"
                                    data-name="Path 734"
                                    d="M5.951,2.975a6,6,0,0,1-6,6,6,6,0,0,1-6-6,6,6,0,0,1,6-6,6,6,0,0,1,6,6"
                                    transform="translate(6.049 3.024)"
                                    fill="#fcf4ec"
                                  />
                                </g>
                                <g
                                  id="Group_290"
                                  data-name="Group 290"
                                  transform="translate(2.484 2.494)"
                                >
                                  <path
                                    id="Path_735"
                                    data-name="Path 735"
                                    d="M3.4,2.948.939.491,3.4-1.977a.472.472,0,0,0,0-.692l-.177-.177a.472.472,0,0,0-.71.04L.078-.37-2.408-2.848a.48.48,0,0,0-.706.012l-.184.183a.481.481,0,0,0,.024.726L-.817.526S-3.2,2.919-3.279,3a.472.472,0,0,0,0,.692l.177.177a.472.472,0,0,0,.71-.04L.042,1.387,2.53,3.869a.481.481,0,0,0,.708-.012l.184-.183A.48.48,0,0,0,3.4,2.948"
                                    transform="translate(3.453 2.997)"
                                    fill="#44484c"
                                  />
                                </g>
                              </g>
                            </g>
                          </svg>

                          <svg
                            *ngIf="statusObjectProject['5'] == true"
                            id="Bocka_av_icon"
                            data-name="Bocka av icon"
                            xmlns="http://www.w3.org/2000/svg"
                            xmlns:xlink="http://www.w3.org/1999/xlink"
                            width="13"
                            height="13"
                            viewBox="0 0 12 12"
                          >
                            <defs>
                              <clipPath id="clip-path">
                                <rect
                                  id="Rectangle_60"
                                  data-name="Rectangle 60"
                                  width="13"
                                  height="13"
                                  fill="none"
                                />
                              </clipPath>
                            </defs>
                            <g
                              id="Group_301"
                              data-name="Group 301"
                              clip-path="url(#clip-path)"
                            >
                              <path
                                id="Path_745"
                                data-name="Path 745"
                                d="M11.894,5.947A5.95,5.95,0,1,1,5.945,0a5.948,5.948,0,0,1,5.949,5.949"
                                transform="translate(0.056 0.053)"
                                fill="#b8b8b8"
                              />
                              <path
                                id="Path_746"
                                data-name="Path 746"
                                d="M18.228,19.391l-.18-.182a.546.546,0,0,0-.387-.172.626.626,0,0,0-.437.2l-3.989,3.95-1.306-1.351v0l-.414-.418a.563.563,0,0,0-.394-.174.587.587,0,0,0-.408.18l-.18.182a.557.557,0,0,0,.029.826l2.683,2.7,4.649-4.6.34-.342a.551.551,0,0,0-.006-.8"
                                transform="translate(-8.669 -15.967)"
                                fill="#44484c"
                              />
                            </g>
                          </svg>
                        </div>
                        <div class="align-button-title">
                          <span class="text-uppercase mr-1">{{
                            "Aborted" | translate
                          }}</span>
                        </div>
                      </div>
                    </form>
                  </div>
                </div>

                <div class="row ml-2 searchdiv">
                  <form class="form-inline my-2X my-lg-0">
                    <span class="search-icon">
                      <svg
                        id="Sök_icon"
                        data-name="Sök icon"
                        xmlns="http://www.w3.org/2000/svg"
                        width="13"
                        height="13.07"
                        viewBox="0 0 15 15.07"
                      >
                        <path
                          id="Path_737"
                          data-name="Path 737"
                          d="M32.9,30.59l-.09-.091h0l-3.616-3.636a5.982,5.982,0,0,0-5.106-8.973h-.039a5.977,5.977,0,0,0-.037,11.954h.039a5.892,5.892,0,0,0,2.994-.814l3.613,3.633h0l.09.091a.7.7,0,0,0,.99,0L32.9,31.585A.706.706,0,0,0,32.9,30.59ZM24.017,28.32a4.453,4.453,0,0,1,.028-8.905h.03A4.387,4.387,0,0,1,27.2,20.739a4.47,4.47,0,0,1-.031,6.287,4.387,4.387,0,0,1-3.12,1.294Z"
                          transform="translate(-18.101 -17.89)"
                          fill="#44484c"
                        />
                      </svg>
                    </span>
                    <input
                      class="search-form form-control text-uppercase"
                      type="search"
                      placeholder=" {{ 'Search' | translate }}"
                      aria-label="Search"
                      name="search"
                      autocomplete="off"
                      (input)="onSearch(0, 0, searchInput.value)"
                      #searchInput
                    />
                  </form>
                </div>
              </div>
              <app-project-list
                [project_id]="project_id"
                [top_menu_status]="buttonToggle"
                origin="project"
                [projects]="projects"
                (setRouterLink)="setRouterLink($event)"
                (emitSelectChanged)="selectedProject($event)"
              ></app-project-list>
            </div>
            <div
              *ngIf="currentTab == 1 && userDetails.show_project_Order"
              id="order"
              role="tabpanel"
            >
              <order-list [orders]="orders" [project]="project"></order-list>
            </div>
            <div
              *ngIf="currentTab == 2 && ensureAtest()"
              id="overview"
              role="tabpanel"
            >
              <app-overview
                [top_menu_status]="buttonToggle"
                [project]="project"
                [users]="projectUsers"
                [availableAtasOrDu]="availableAtasOrDu"
                (attestSave)="onAttestSave($event)"
              ></app-overview>
            </div>
            <div *ngIf="(currentTab == 3 && userDetails.show_project_Attachment) || (currentTab == 3 && attachments.length > 0)" id="attachment" role="tabpanel">
              <app-attachment
                [directories]="attachments"
                [projectId]="project.id"
                (removeFile)="handleRemoveFile($event)"
              >
              </app-attachment>
            </div>
            <div
              *ngIf="currentTab == 4 && ensureAtaShow()"
              id="ata"
              role="tabpanel"
            >
              <app-ata
                [top_menu_status]="buttonToggle"
                [project]="project"
                [project_id]="project_id"
                [projectUserDetails]="projectUserDetails"
                [attestSaved]="attestSaved"
              ></app-ata>
            </div>
            <div
              *ngIf="currentTab == 5 && ensureDeviationShow()"
              id="deviation"
              role="tabpanel"
            >
              <app-deviation
                [top_menu_status]="buttonToggle"
                [project]="project"
                [projectUserDetails]="projectUserDetails"
              ></app-deviation>
            </div>
            <div
              *ngIf="currentTab == 6 && userDetails.show_project_Permit"
              id="permit"
              role="tabpanel"
            >
              <app-permit
                [top_menu_status]="buttonToggle"
                [project]="project"
                [users]="projectUsers"
              ></app-permit>
            </div>
            <div *ngIf="currentTab == 7 && userDetails.show_project_Plan" id="projectPlan" role="tabpanel"></div>
            <div
              *ngIf="currentTab == 8"
              id="userProjectPlan"
              role="tabpanel"
            ></div>
            <div
              *ngIf="currentTab == 10"
              id="egenkontroll"
              role="tabpanel"
            ></div>
            <div
              *ngIf="
                currentTab == 9 &&
                userDetails.show_project_WeeklyReport &&
                project?.debit_Id != 2
              "
              id="weeklyReport"
            >
              <app-weekly-report [currentTab]="currentTab"></app-weekly-report>
            </div>
            <div *ngIf="currentTab == 11">
              <app-prognosis-layout
                [_prognosis]="prognosis"
                (newPrognosis)="get_prognosis($event)"
              ></app-prognosis-layout>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
