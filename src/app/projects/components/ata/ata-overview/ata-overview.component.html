<div class="tabs-wrapper tabs-wrapper-position" style="display:flex" *ngIf="!spinner">
    <ul class="nav-ata-tabs" [ngStyle]="{'margin-left': false ? '7px': '75px'}">
        <ng-container>
            <li  class="nav-item" [ngStyle]="{'margin-left': false ? '20px': ''}"><!-- ATAs and ATAs revisions-->
                <button type="button"
                    class="btn-position-title"
                    [ngClass]="{active: active_tab == 1 }"
                    (click)="setActiveAta(1)"
                >
                    <div >
                        {{ 'TSC_Summary' | translate }}
                    </div>
                    <div class="hidden-shadow"></div>
                </button>
            </li>
            <li  class="nav-item" [ngStyle]="{'margin-left': false ? '20px': ''}"><!-- ATAs and ATAs revisions-->
                <button type="button"
                    class="btn-position-title"
                    [ngClass]="{active: active_tab == 2 }"
                    (click)="setActiveAta(2)"
                >
                    <div >
                        {{ 'Images' | translate }}
                    </div>
                    <div class="hidden-shadow"></div>
                </button>
            </li>
        </ng-container>
    </ul>
</div>
<div class="content-wrapper">
    <div *ngIf="active_tab == 1">
      <div *ngIf="ata['PaymentType'] == 2 || ata['PaymentType'] == 3">

        <fieldset class="article-wrapper shadow-top-div">
            <div class="d-flex" style="margin-top: -3px;">
              <!-- <span
                (click)="toggleTable('showAdditionalWorkTable')"
                class="material-icons cursor-pointer"
              >
                {{
                  showAdditionalWorkTable ? "keyboard_arrow_up" : "keyboard_arrow_down"
                }}
              </span> -->
              <span class="title-options__image" (click)="toggleTable('showAdditionalWorkTable')">
                <span> {{ "ARBETAD TID" | translate }}</span>
                <img  src="/assets/img/modify-ata/arrow-down.svg" alt="" class="imgPos" *ngIf="showAdditionalWorkTable">
                <img src="/assets/img/modify-ata/arrow-up.svg" alt="" class="imgPos"  *ngIf="!showAdditionalWorkTable">
              </span>
              <!-- <span
                (click)="toggleTable('showAdditionalWorkTable')"
                class="cursor-pointer"
                >{{ "Additional work" | translate }}</span
              > -->
            </div>
            <div [ngClass]="showAdditionalWorkTable?'showT':'hiddenT'"    style="    margin-top: -12px;">
            <table

              class="table-bordered table-bordered-width"
              id="momentsOverviewTable"
              *ngIf="group_of_moments && group_of_moments['total'] > 0"
            >
              <thead class="table-bordered">
                <tr>
                  <th scope="col">{{ "Description" | translate }}</th>
                  <th scope="col">{{ "Quantity" | translate }}</th>
                  <th scope="col">{{ "Unit" | translate }}</th>
                  <th scope="col">{{ "Price per unit" | translate }}</th>
                  <th scope="col">
                    <svg id="Component_182_623" data-name="Component 182 – 623" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17.275" height="10.458" viewBox="0 0 17.275 10.458">
                    <defs>
                    <clipPath id="clip-path">
                      <rect id="Rectangle_15721" data-name="Rectangle 15721" width="17.275" height="10.458" fill="#fff"/>
                    </clipPath>
                    </defs>
                    <g id="Group_4226" data-name="Group 4226" clip-path="url(#clip-path)">
                    <path id="Path_1791" data-name="Path 1791" d="M47.312,6.918a.379.379,0,0,1-.1-.262V4.788H45.5a.3.3,0,0,1-.235-.106.377.377,0,0,1-.1-.262V4.094a.376.376,0,0,1,.1-.262.3.3,0,0,1,.235-.106h1.715V1.858a.379.379,0,0,1,.1-.262.3.3,0,0,1,.235-.106h.368a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262V3.726h1.7a.3.3,0,0,1,.235.106.377.377,0,0,1,.1.262V4.42a.378.378,0,0,1-.1.262.3.3,0,0,1-.235.106h-1.7V6.656a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106h-.368a.3.3,0,0,1-.235-.106" transform="translate(-33.004 -1.089)" fill="#fff"/>
                    <path id="Path_1792" data-name="Path 1792" d="M47.129,29.891a.377.377,0,0,1-.1-.262V29.3a.378.378,0,0,1,.1-.262.3.3,0,0,1,.235-.106h3.469a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262v.326a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106H47.364a.3.3,0,0,1-.235-.106" transform="translate(-34.365 -21.142)" fill="#fff"/>
                    <path id="Path_1793" data-name="Path 1793" d="M4.112,4.752a2.2,2.2,0,0,1-1.723.731,2.323,2.323,0,0,1-.978-.2A2.246,2.246,0,0,1,.66,4.729a2.47,2.47,0,0,1-.489-.866A3.527,3.527,0,0,1,0,2.734,2.908,2.908,0,0,1,.652.739,2.185,2.185,0,0,1,2.374,0a2.342,2.342,0,0,1,.97.2A2.226,2.226,0,0,1,4.1.755a2.458,2.458,0,0,1,.489.874,3.607,3.607,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987m-2.568-.66a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653A2.69,2.69,0,0,0,3.22,1.391.959.959,0,0,0,2.374,1a.926.926,0,0,0-.838.405A2.366,2.366,0,0,0,1.272,2.67a2.649,2.649,0,0,0,.272,1.422m.683,6.08a.212.212,0,0,1,.008-.238L7.79.525A.706.706,0,0,1,8.046.27.682.682,0,0,1,8.4.175h.388a.232.232,0,0,1,.21.111.212.212,0,0,1-.008.239L3.43,9.934a.7.7,0,0,1-.256.254.679.679,0,0,1-.349.1H2.436a.232.232,0,0,1-.21-.111m8.341-.445a2.195,2.195,0,0,1-1.722.731,2.325,2.325,0,0,1-.978-.2A2.248,2.248,0,0,1,7.115,9.7a2.464,2.464,0,0,1-.489-.866,3.528,3.528,0,0,1-.171-1.129,2.908,2.908,0,0,1,.652-1.995A2.184,2.184,0,0,1,8.83,4.975a2.338,2.338,0,0,1,.97.2,2.225,2.225,0,0,1,.76.556,2.454,2.454,0,0,1,.489.874,3.608,3.608,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987M8,9.068a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653a2.691,2.691,0,0,0-.272-1.438.96.96,0,0,0-.846-.39.927.927,0,0,0-.838.405,2.368,2.368,0,0,0-.264,1.264A2.651,2.651,0,0,0,8,9.068" transform="translate(0 0)" fill="#fff"/>
                    </g>
                    </svg>
                  </th>
                  <th scope="col">{{ "Sum" | translate }}</th>
                </tr>
              </thead>
              <tbody class="table-bordered">
                <ng-container *ngFor="let moment of group_of_moments['properties']; let i = index">
                  <tr>
                    <td class="first-td-fast-moment">{{ moment["full_date"] }}</td>
                    <td class="second-td-fast-moment total-text-align">{{ moment["quantity"] | number: "1.2-2":"fr"  }}</td>
                    <td class="thirth-td-fast-moment total-text-align">{{ 'time' | translate }}</td>
                    <td class="fourth-td-fast-moment total-text-align">{{ moment["price"] | number: "1.2-2":"fr"  }}</td>
                    <td class="fifth-td-fast-moment total-text-align">{{ moment["deduct"] }}</td>
                    <td class="sixth-td-fast-moment total-text-align">{{ moment["total"] | number: "1.2-2":"fr"  }}</td>
                  </tr>
                </ng-container>
                <tr class="font-weight-bold">
                    <td class="first-td-fast-moment" colspan="6">
                        <div class="position-of-content padding-right">
                            <span>{{'SUMMA' | translate}}</span>
                            <span>{{ group_of_moments['total'] | number: "1.2-2":"fr" }}</span>
                        </div>
                    </td>
                </tr>
              </tbody>
            </table>
          </div>
        </fieldset>
        <fieldset class="article-wrapper shadow-top-div">
            <div class="d-flex" style="margin-top: -3px;">
              <!-- <span
                (click)="toggleTable('showMaterialTable')"
                class="material-icons cursor-pointer"
              >
                {{ showMaterialTable ? "keyboard_arrow_up" : "keyboard_arrow_down" }}
              </span>
              <span (click)="toggleTable('showMaterialTable')" class="cursor-pointer">{{
                "Supplier Invoices" | translate
              }}</span> -->
              <span class="title-options__image" (click)="toggleTable('showMaterialTable')">
                <span> {{ "LEVERANTÖRS FAKTUROR / MATERIAL" | translate }}</span>
                <img  src="/assets/img/modify-ata/arrow-down.svg" alt="" class="imgPos" *ngIf="showMaterialTable">
                <img src="/assets/img/modify-ata/arrow-up.svg" alt="" class="imgPos"  *ngIf="!showMaterialTable">
              </span>
            </div>
            <div [ngClass]="showMaterialTable?'showT':'hiddenT'" style="margin-top: -12px;">
            <table

              class="table-bordered table-bordered-width"
              id="materialsOverviewTable"
            >
              <thead class="table-bordered">
                <tr>
                  <th scope="col">{{ "Description" | translate }}</th>
                  <th scope="col">{{ "OCR/FAKTURANR." | translate }}</th>
                  <th scope="col">{{ "Quantity" | translate }}</th>
                  <th scope="col">{{ "Unit" | translate }}</th>
                  <th scope="col">{{ "Price per unit" | translate }}</th>
                  <th scope="col">
                    <svg id="Component_182_623" data-name="Component 182 – 623" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink" width="17.275" height="10.458" viewBox="0 0 17.275 10.458">
                    <defs>
                    <clipPath id="clip-path">
                      <rect id="Rectangle_15721" data-name="Rectangle 15721" width="17.275" height="10.458" fill="#fff"/>
                    </clipPath>
                    </defs>
                    <g id="Group_4226" data-name="Group 4226" clip-path="url(#clip-path)">
                    <path id="Path_1791" data-name="Path 1791" d="M47.312,6.918a.379.379,0,0,1-.1-.262V4.788H45.5a.3.3,0,0,1-.235-.106.377.377,0,0,1-.1-.262V4.094a.376.376,0,0,1,.1-.262.3.3,0,0,1,.235-.106h1.715V1.858a.379.379,0,0,1,.1-.262.3.3,0,0,1,.235-.106h.368a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262V3.726h1.7a.3.3,0,0,1,.235.106.377.377,0,0,1,.1.262V4.42a.378.378,0,0,1-.1.262.3.3,0,0,1-.235.106h-1.7V6.656a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106h-.368a.3.3,0,0,1-.235-.106" transform="translate(-33.004 -1.089)" fill="#fff"/>
                    <path id="Path_1792" data-name="Path 1792" d="M47.129,29.891a.377.377,0,0,1-.1-.262V29.3a.378.378,0,0,1,.1-.262.3.3,0,0,1,.235-.106h3.469a.3.3,0,0,1,.235.106.378.378,0,0,1,.1.262v.326a.377.377,0,0,1-.1.262.3.3,0,0,1-.235.106H47.364a.3.3,0,0,1-.235-.106" transform="translate(-34.365 -21.142)" fill="#fff"/>
                    <path id="Path_1793" data-name="Path 1793" d="M4.112,4.752a2.2,2.2,0,0,1-1.723.731,2.323,2.323,0,0,1-.978-.2A2.246,2.246,0,0,1,.66,4.729a2.47,2.47,0,0,1-.489-.866A3.527,3.527,0,0,1,0,2.734,2.908,2.908,0,0,1,.652.739,2.185,2.185,0,0,1,2.374,0a2.342,2.342,0,0,1,.97.2A2.226,2.226,0,0,1,4.1.755a2.458,2.458,0,0,1,.489.874,3.607,3.607,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987m-2.568-.66a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653A2.69,2.69,0,0,0,3.22,1.391.959.959,0,0,0,2.374,1a.926.926,0,0,0-.838.405A2.366,2.366,0,0,0,1.272,2.67a2.649,2.649,0,0,0,.272,1.422m.683,6.08a.212.212,0,0,1,.008-.238L7.79.525A.706.706,0,0,1,8.046.27.682.682,0,0,1,8.4.175h.388a.232.232,0,0,1,.21.111.212.212,0,0,1-.008.239L3.43,9.934a.7.7,0,0,1-.256.254.679.679,0,0,1-.349.1H2.436a.232.232,0,0,1-.21-.111m8.341-.445a2.195,2.195,0,0,1-1.722.731,2.325,2.325,0,0,1-.978-.2A2.248,2.248,0,0,1,7.115,9.7a2.464,2.464,0,0,1-.489-.866,3.528,3.528,0,0,1-.171-1.129,2.908,2.908,0,0,1,.652-1.995A2.184,2.184,0,0,1,8.83,4.975a2.338,2.338,0,0,1,.97.2,2.225,2.225,0,0,1,.76.556,2.454,2.454,0,0,1,.489.874,3.608,3.608,0,0,1,.171,1.136,2.877,2.877,0,0,1-.652,1.987M8,9.068a.96.96,0,0,0,.846.389q1.1,0,1.1-1.653a2.691,2.691,0,0,0-.272-1.438.96.96,0,0,0-.846-.39.927.927,0,0,0-.838.405,2.368,2.368,0,0,0-.264,1.264A2.651,2.651,0,0,0,8,9.068" transform="translate(0 0)" fill="#fff"/>
                    </g>
                    </svg>
                  </th>
                  <th scope="col">{{ "Sum" | translate }}</th>
                </tr>
              </thead>
              <tbody class="table-bordered">
                <ng-container *ngFor="let invoice of invoices; let index = index">
                    <tr>
                        <td class="first-supp-column">
                            <div class="td-content" (click)="openSwiperSupplierInvoice(invoice, null)">
                                <div class="td-image-preview">
                                    <img [src]="invoice.image_path" class="preview-image-new white-bordered absolute-position" />
                                    <div class="folder-svg">
                                        <svg id="Group_4062" data-name="Group 4062" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 67.478 58.682">
                                            <g id="Skapad_mapp" data-name="Skapad mapp">
                                                <path id="Path_754" data-name="Path 754" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#fff"/>
                                                <path id="Path_755" data-name="Path 755" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#82a7e2" opacity="0.999"/>
                                                <path id="Path_756" data-name="Path 756" d="M78.182,26.544H19.016a3.881,3.881,0,0,0-4.1,3.587l.09,27.223a3.161,3.161,0,0,0,.324,1.393,3.771,3.771,0,0,0,1.489,1.58,4.483,4.483,0,0,0,2.288.615H78.272a3.882,3.882,0,0,0,4.1-3.588l-.09-27.223A3.88,3.88,0,0,0,78.182,26.544Z" transform="translate(-14.916 -4.818)" fill="#82a7e2"/>
                                            </g>
                                        </svg>
                                    </div>
                                </div>
                                <div class="td-desc">{{invoice["SupplierName"]}}</div>
                            </div>
                        </td>
                        <td class="second-supp-column">{{ invoice["Ocr"] }}</td>
                        <td class="thirth-supp-column total-text-align">{{1 | number: "1.2-2":"fr"}}</td>
                        <td class="fourth-supp-column">{{'st.' | translate}}</td>
                        <td class="fifth-supp-column total-text-align">{{invoice.Price | number: "1.2-2":"fr"}}</td>
                        <td class="sixth-supp-column total-text-align">
                            {{
                                invoice.Type == "SupplierInvoiceRow" ? invoice.Deduct : projectChargeMaterial
                             }}
                        </td>
                        <td class="seventh-supp-column total-text-align">
                          {{
                            (invoice.Type == "SupplierInvoiceRow"
                              ? invoice.Price
                              : invoice.Total
                            ) | number: "1.2-2":"fr"
                          }}
                        </td>
                    </tr>
                </ng-container>
              </tbody>
              <tfoot>
                <tr class="font-weight-bold">
                    <td colspan="7">
                        <div class="supp-invoice-total-position">
                            <span>{{ "SUMMA" | translate }} </span>
                            <span>{{ calculateTotal("Total") | number: "1.2-2":"fr" }}</span>
                        </div>
                    </td>
                </tr>
              </tfoot>
            </table>
          </div>
        </fieldset>
        <table
          class="table tab-responsive table-striped table-hover table-lightX table-sm mt-5"
          id="theTable"
        >
          <thead class="table-bordered">
            <tr>
              <th scope="col">{{ "Description" | translate }}</th>
              <th scope="col">{{ "Sum" | translate }}</th>
            </tr>
          </thead>
          <tbody class="table-bordered">
            <tr>
              <td class="first-overview-column" ><strong>ÄTA {{ "SUMMA" | translate }}</strong></td>
              <td class="total-text-align second-overview-column">
                <strong>
                    {{
                      calcAllTotal([
                        getArticlesAdditionalWork,
                        getArticlesMaterial,
                        getArticleOther
                      ]) | number: "1.2-2":"fr"
                    }}
                </strong>
              </td>
            </tr>
            <tr>
              <td class="first-overview-column" >{{ "ARBETAD TID" | translate }}</td>
              <td class="total-text-align second-overview-column">
                {{ totalTime | number: "1.2-2":"fr" }}
              </td>
            </tr>
            <tr>
              <td class="first-overview-column" >{{ "LEVERANTÖRSFAKTUROR / MATERIAL" | translate }}</td>
              <td class="total-text-align second-overview-column">
                {{ calculateTotal("Price") | number: "1.2-2":"fr" }}
              </td>
            </tr>
            <tr>
                <td class="first-overview-column" >
                    <div class="position-of-content">
                        <span>{{ "TÄCKNINGSBIDRAG" | translate }}</span>
                        <span>
                            (TB)
                        </span>
                    </div>
                </td>
                <td class="total-text-align second-overview-column">
                    <strong>
                        {{
                          calculateNetProfit(totalSum, totalTime, calculateTotal("Price"))
                            | number: "1.2-2":"fr"
                        }}
                    </strong>
                </td>
            </tr>
            <tr>
                <td class="first-overview-column" >
                    <div class="position-of-content">
                        <span>{{ "TÄCKNINGSGRAD" | translate }}</span>
                        <span>(TG)</span>
                    </div>
                </td>
                <td class="total-text-align second-overview-column">
                    <strong>
                        {{ getPercentage() | number: "1.2-2" }} %
                    </strong>
                </td>
            </tr>
          </tbody>
        </table>
      </div>
      <div *ngIf="(ata['PaymentType'] == 1 || ata['PaymentType'] == 4) &&
        weeklyReports?.length > 0">
        <div class="nav-wrapper" >
            <div class="bg-transparent clearfix">
              <div class="ata-search mr-3">
                <span class="search-icon">
                  <svg xmlns="http://www.w3.org/2000/svg" width="13" height="13.06" viewBox="0 0 13 13.06">
                    <path id="Path_737" data-name="Path 737" d="M30.923,28.9l-.078-.079h0l-3.134-3.151a5.185,5.185,0,0,0-4.425-7.777h-.034a5.18,5.18,0,0,0-.032,10.36h.034a5.106,5.106,0,0,0,2.595-.706l3.131,3.149h0l.078.079a.6.6,0,0,0,.858,0l1.007-1.013A.612.612,0,0,0,30.923,28.9Zm-7.695-1.968a3.859,3.859,0,0,1,.024-7.718h.026a3.8,3.8,0,0,1,2.707,1.148,3.874,3.874,0,0,1-.027,5.449,3.8,3.8,0,0,1-2.7,1.121Z" transform="translate(-18.101 -17.89)" fill="#fcf4ec"/>
                  </svg>
                </span>
                <input type="text" class="form-control mt-2 search-input" placeholder="{{ 'Search' | translate }}" [(ngModel)]="searchQuery" />
                <span class="clear-icon" (click)="clearSearchText()">
                  <svg xmlns="http://www.w3.org/2000/svg" width="10.189" height="10.189" viewBox="0 0 10.189 10.189">
                    <path id="Path_783" data-name="Path 783" d="M.589.708-3.622,4.925l.873.883L1.473,1.59,5.694,5.807l.873-.883L2.346.708,6.567-3.5l-.884-.872L1.473-.165-2.749-4.382l-.873.883Z" transform="translate(3.622 4.382)" fill="#fcf4ec"/>
                  </svg>
                </span>
              </div>
                <form class="buttons-form" style="justify-content: inherit">
                    <div class="d-flex border-item p-1 status-margin cursor-pointer" (click)="onStatusChangeExternal('all')">
                        <div class="margin-svg-buttons">
                            <app-not-selected-icon-svg *ngIf="statusObjectExternal['all'] == false">
                            </app-not-selected-icon-svg>
                            <app-selected-icon-svg *ngIf="statusObjectExternal['all'] == true" color='#ff7000'>
                            </app-selected-icon-svg>
                        </div>
                        <div class="align-button-title">
                            <span class="text-uppercase mr-1">{{ "All" | translate }}</span>
                        </div>
                    </div>

                    <div class="d-flex border-item p-1 status-margin cursor-pointer" (click)="onStatusChangeExternal('0')">
                        <div class="margin-svg-buttons">
                            <app-not-selected-icon-svg *ngIf="statusObjectExternal['0'] == false">
                            </app-not-selected-icon-svg>
                            <app-selected-icon-svg *ngIf="statusObjectExternal['0'] == true" color='#f0e264'>
                            </app-selected-icon-svg>
                        </div>
                        <div class="align-button-title">
                            <span class="text-uppercase mr-1">
                              {{ "Under pricing" | translate }}
                            </span>
                        </div>
                    </div>

                    <div class="d-flex border-item p-1 status-margin cursor-pointer" (click)="onStatusChangeExternal('1')">
                        <div class="margin-svg-buttons">
                            <app-not-selected-icon-svg *ngIf="statusObjectExternal['1'] == false">
                            </app-not-selected-icon-svg>
                            <app-selected-icon-svg *ngIf="statusObjectExternal['1'] == true" color='#94effd'>
                            </app-selected-icon-svg>
                        </div>
                        <div class="align-button-title">
                            <span class="text-uppercase mr-1">{{ "Sent" | translate }}</span>
                        </div>
                    </div>
                    <div class="d-flex border-item p-1 status-margin cursor-pointer" (click)="onStatusChangeExternal('2')">
                        <div class="margin-svg-buttons">
                            <app-not-selected-icon-svg *ngIf="statusObjectExternal['2'] == false">
                            </app-not-selected-icon-svg>
                            <app-selected-icon-svg *ngIf="statusObjectExternal['2'] == true" color='#03d156'>
                            </app-selected-icon-svg>
                        </div>
                        <div class="align-button-title">
                            <span class="text-uppercase mr-1">
                              {{"Accepted" | translate}}
                            </span>
                        </div>
                    </div>

                    <div class="d-flex border-item p-1 status-margin cursor-pointer" (click)="onStatusChangeExternal('5')">
                        <div class="margin-svg-buttons">
                            <app-not-selected-icon-svg *ngIf="statusObjectExternal['5'] == false">
                            </app-not-selected-icon-svg>
                            <app-selected-icon-svg *ngIf="statusObjectExternal['5'] == true" color='#C7C6C4'>
                            </app-selected-icon-svg>
                        </div>
                        <div class="align-button-title">
                            <span class="text-uppercase mr-1">{{ "Completed" | translate }}</span>
                        </div>
                    </div>
                </form>
            </div>
        </div>
        <table
          class="table-bordered table-bordered-width"
          id="momentsOverviewTable">
            <thead class="sticky">
                <tr>
                  <th scope="col">{{ "Year" | translate }}</th>
                  <th scope="col">{{ "KS" | translate }}</th>
                  <th scope="col">{{ "Accrued costs" | translate }}</th>
                  <th scope="col">{{ "Last regulate" | translate }}</th>
                  <th scope="col">{{ "Sent" | translate }}</th>
                  <th scope="col">{{ "Approved to invoice" | translate }}</th>
                  <th scope="col">{{ "Invoiced" | translate }}</th>
                  <th scope="col">{{ "Fakturamärkning" | translate }}</th>
                </tr>
            </thead>
            <tbody class="table-bordered">
                <ng-container *ngFor="let report of getFilteredWeeklyReports; let i = index">
                    <tr [ngClass]="getAtaStatusClass(report.Status, i)" style="cursor: pointer" (click)="changeWeek(report)">
                        <td class="first-column">
                          <span>{{
                            report?.regulation == 0 ? report?.year : report?.current_year
                          }}</span>
                        </td>
                        <td class="second-column">{{ report["name"] | translate }}</td>
                        <td class="total-text-align third-column">
                          {{ report["TOTALWORKEDUP_WR"] | number: "1.2-2":"fr" }}
                        </td>
                        <td class="total-text-align fourth-column">
                          {{ report["LASTREGULATE_WR"] | number: "1.2-2":"fr" }}
                        </td>
                        <td class="total-text-align fifth-column">
                          {{ report["SENT_WR"] | number: "1.2-2":"fr" }}
                        </td>
                        <td class="total-text-align sixth-column">
                          {{ report["APPROVEDTOINVOICE_WR"] | number: "1.2-2":"fr" }}
                        </td>
                        <td class="total-text-align seventh-column">
                          {{ report["INVOICED_WR"] | number: "1.2-2":"fr" }}
                        </td>
                        <td class="total-text-align eighth-column">
                            {{ report['wr_labeling_requirements'] }}
                        </td>
                    </tr>
                </ng-container>
            </tbody>
            <tfoot class="table-bordered-overview table-black-footer">
                <tr class="font-weight-bold">
                    <td>{{'SUMMA' | translate}}</td>
                    <td></td>
                    <td class="total-text-align">
                        {{ sumAllTotallyWorkedUp | number: "1.2-2":"fr" }}
                    </td>
                    <td class="total-text-align">
                        {{ sumAllWorkedButNotApproved | number: "1.2-2":"fr" }}
                    </td>
                    <td class="total-text-align">
                        {{ sumAllWrSent | number: "1.2-2":"fr" }}
                    </td>
                    <td class="total-text-align">
                        {{ sumAllApprovedForInvoice | number: "1.2-2":"fr" }}
                    </td>
                    <td class="total-text-align">
                        {{ sumAllInvoicedTotal | number: "1.2-2":"fr" }}
                    </td>
                    <td></td>
                </tr>
            </tfoot>
        </table>
      </div>
    </div>
    <div *ngIf="active_tab == 2">
    <div class="table-wrapper">
    <table class="table table-bordered table-body-transparent doc-table">
        <thead>
            <tr>
                <th class="image-head-wrapper" colspan="2">{{'Bilder' | translate}}</th>
                <th class="image-head-wrapper" colspan="3">{{'Beskriving' | translate}}</th>
            </tr>
        </thead>
        <tbody>
            <ng-container *ngFor="let image of ataImages; let index = index">
                <tr>
                    <td class="first-td"><div class="td-content">{{'ATA'}}-{{ata.AtaNumber}}</div></td>
                    <td class="second-td" (click)="openSwiper(index, ataImages, 0)">
                        <div class="td-content">
                            <div class="td-image-preview">
                                <img [src]="image.Url" class="preview-image-new white-bordered absolute-position" />
                                <div class="folder-svg">
                                    <svg id="Group_4062" data-name="Group 4062" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 67.478 58.682">
                                        <g id="Skapad_mapp" data-name="Skapad mapp">
                                            <path id="Path_754" data-name="Path 754" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#fff"/>
                                            <path id="Path_755" data-name="Path 755" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#82a7e2" opacity="0.999"/>
                                            <path id="Path_756" data-name="Path 756" d="M78.182,26.544H19.016a3.881,3.881,0,0,0-4.1,3.587l.09,27.223a3.161,3.161,0,0,0,.324,1.393,3.771,3.771,0,0,0,1.489,1.58,4.483,4.483,0,0,0,2.288.615H78.272a3.882,3.882,0,0,0,4.1-3.588l-.09-27.223A3.88,3.88,0,0,0,78.182,26.544Z" transform="translate(-14.916 -4.818)" fill="#82a7e2"/>
                                        </g>
                                    </svg>
                                </div>
                            </div>
                            <div class="td-desc">{{image.document_name_without_ext}}</div>
                        </div>
                    </td>
                    <td class="thirth-td">
                        <div class="td-content">{{image.description}}</div>
                    </td>
                    <td class="fourth-td"><div class="td-content">{{image?.created_at}}</div></td>
                    <td class="fifth-td">
                        <div class="td-content">
                            <a [href]="downloadActive(image)" target="_blank" class="btn btn-border" download="fileName.pdf">
                                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="21.947" viewBox="0 0 13 21.947">
                                    <g id="Group_8914" data-name="Group 8914" transform="translate(0 0)">
                                        <g id="Group_7764" data-name="Group 7764">
                                          <g id="Group_7318" data-name="Group 7318">
                                            <g id="Group_7312" data-name="Group 7312">
                                              <g id="Component_260_14" data-name="Component 260 – 14">
                                                <path id="Path_4767" data-name="Path 4767" d="M28.384,42.891a.311.311,0,0,0,.328-.329v-1.5h.45a3.568,3.568,0,0,0,.912-.1,1.277,1.277,0,0,0,.948-1.341,1.245,1.245,0,0,0-.743-1.28,3.278,3.278,0,0,0-1.147-.147H28.6a.668.668,0,0,0-.738.766v3.6a.305.305,0,0,0,.316.329Zm.328-3.859c0-.014,0-.025,0-.034h.449a1.978,1.978,0,0,1,.718.081c.14.059.269.169.269.566a.544.544,0,0,1-.276.542,1.885,1.885,0,0,1-.676.081h-.486Z" transform="translate(-25.852 -28.38)" fill="#fff"/>
                                                <path id="Path_4768" data-name="Path 4768" d="M35.685,42.879a3.882,3.882,0,0,0,1.179-.158A2.111,2.111,0,0,0,38.1,40.487c0-1.205-.41-1.936-1.218-2.171a4.006,4.006,0,0,0-1.149-.123h-.525a.666.666,0,0,0-.75.766v3.172a.653.653,0,0,0,.738.748Zm-.372-3.841a.273.273,0,0,1,0-.034h.461a2.139,2.139,0,0,1,.874.127c.4.188.578.606.578,1.357,0,.8-.193,1.247-.625,1.448a2.012,2.012,0,0,1-.809.127h-.477a.251.251,0,0,1,0-.045Z" transform="translate(-29.646 -28.378)" fill="#fff"/>
                                                <path id="Path_4769" data-name="Path 4769" d="M43,39.01h1.636a.3.3,0,0,0,.328-.311V38.51a.3.3,0,0,0-.328-.317H42.9c-.5,0-.75.255-.75.778v3.591a.3.3,0,0,0,.316.329h.217A.308.308,0,0,0,43,42.556V41h1.385a.3.3,0,0,0,.328-.311V40.5a.3.3,0,0,0-.328-.317H43V39.05A.32.32,0,0,1,43,39.01Z" transform="translate(-33.878 -28.38)" fill="#fff"/>
                                                <g id="Order_pos" data-name="Order pos">
                                                  <path id="Path_4772" data-name="Path 4772" d="M28.058,15.768H23.234V35.02h2.525l-.8-.787-.013-.013-.012-.014a1.076,1.076,0,0,1-.2-.344h-.309V16.926h2.806V24.6h7.829v9.265H34.74a.935.935,0,0,1-.233.348l-.831.81h2.558V23.779ZM28.4,23.44v-5.7l5.812,5.7Z" transform="translate(-23.234 -15.768)" fill="#fff"/>
                                                </g>
                                                <g id="Group_7294" data-name="Group 7294" transform="translate(1.984 13.777)">
                                                  <path id="Path_4773" data-name="Path 4773" d="M30.677,52.222a.672.672,0,0,0-.482-.265.66.66,0,0,0-.379.15l-.23.217a.551.551,0,0,0-.21.411.61.61,0,0,0,.175.388l3.9,3.914a.521.521,0,0,0,.413.171.548.548,0,0,0,.437-.184l3.928-3.932a.531.531,0,0,0,.182-.371.537.537,0,0,0-.2-.4l-.262-.23a.516.516,0,0,0-.761.03c-1,1.037-1.812,1.876-2.4,2.5l-.21.22,0-.3c.011-1.484.011-1.408.011-4.886a.555.555,0,0,0-.567-.615h-.3a.547.547,0,0,0-.579.565l.009,5.218-.209-.226C32.4,54.011,31.641,53.214,30.677,52.222Z" transform="translate(-29.376 -49.038)" fill="#fff"/>
                                                </g>
                                              </g>
                                            </g>
                                          </g>
                                        </g>
                                    </g>
                                </svg>
                            </a>
                        </div>
                    </td>
                </tr>
            </ng-container>
            <ng-container *ngFor="let image of ataPdfs; let index = index">
                <tr>
                    <td class="first-td"><div class="td-content">{{'ATA'}}-{{ata.AtaNumber}}</div></td>
                    <td class="second-td" (click)="openSwiper(index, ataPdfs, 0)">
                        <div class="td-content">
                            <div class="td-image-preview">
                                <!-- <img class="preview-image-new white-bordered absolute-position" [src]="image.image_path?.split(',')[0]" /> -->
                                <!-- <span class="preview-image-new white-bordered absolute-position">{{ '.' + image.document_type|lowercase}}</span> -->
                                  <app-pdfjs-preview
                                    class="preview-image-new white-bordered absolute-position"
                                    style="display: flex; cursor: pointer; width: 68px;"
                                    type="pdf"
                                    (click)="openSwiper(index, ataPdfs, 0)"
                                    [pdfUrls]="[image['file_path']]"
                                    [deleted]=""
                                    [canRemove]="false"
                                    [index]="'0'"
                                    [active]="'0'"
                                    [canvas_width]="25"
                                    [canvas_height]="15"
                                    [svg_width]="25"
                                    [svg_height]="17"
                                    [borderRadius]="'0px 0px 0px 0px'"
                                    [folder]="false"
                                    >
                                  </app-pdfjs-preview>
                                <div class="folder-svg">
                                    <svg id="Group_4062" data-name="Group 4062" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 67.478 58.682">
                                        <g id="Skapad_mapp" data-name="Skapad mapp">
                                            <path id="Path_754" data-name="Path 754" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#fff"/>
                                            <path id="Path_755" data-name="Path 755" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#82a7e2" opacity="0.999"/>
                                            <path id="Path_756" data-name="Path 756" d="M78.182,26.544H19.016a3.881,3.881,0,0,0-4.1,3.587l.09,27.223a3.161,3.161,0,0,0,.324,1.393,3.771,3.771,0,0,0,1.489,1.58,4.483,4.483,0,0,0,2.288.615H78.272a3.882,3.882,0,0,0,4.1-3.588l-.09-27.223A3.88,3.88,0,0,0,78.182,26.544Z" transform="translate(-14.916 -4.818)" fill="#82a7e2"/>
                                        </g>
                                    </svg>
                                </div>
                            </div>
                            <span class="td-desc">{{image.document_name_without_ext}}</span>
                        </div>
                    </td>
                    <td class="thirth-td">
                        <div class="td-content">{{image.description}}</div>
                    </td>
                    <td class="fourth-td"><div class="td-content">{{image?.created_at}}</div></td>
                    <td class="fifth-td">
                        <div class="td-content">
                            <a [href]="downloadActive(image)" target="_blank" class="btn btn-border" download="fileName.pdf">
                                <svg xmlns="http://www.w3.org/2000/svg" width="13" height="21.947" viewBox="0 0 13 21.947">
                                    <g id="Group_8914" data-name="Group 8914" transform="translate(0 0)">
                                        <g id="Group_7764" data-name="Group 7764">
                                          <g id="Group_7318" data-name="Group 7318">
                                            <g id="Group_7312" data-name="Group 7312">
                                              <g id="Component_260_14" data-name="Component 260 – 14">
                                                <path id="Path_4767" data-name="Path 4767" d="M28.384,42.891a.311.311,0,0,0,.328-.329v-1.5h.45a3.568,3.568,0,0,0,.912-.1,1.277,1.277,0,0,0,.948-1.341,1.245,1.245,0,0,0-.743-1.28,3.278,3.278,0,0,0-1.147-.147H28.6a.668.668,0,0,0-.738.766v3.6a.305.305,0,0,0,.316.329Zm.328-3.859c0-.014,0-.025,0-.034h.449a1.978,1.978,0,0,1,.718.081c.14.059.269.169.269.566a.544.544,0,0,1-.276.542,1.885,1.885,0,0,1-.676.081h-.486Z" transform="translate(-25.852 -28.38)" fill="#fff"/>
                                                <path id="Path_4768" data-name="Path 4768" d="M35.685,42.879a3.882,3.882,0,0,0,1.179-.158A2.111,2.111,0,0,0,38.1,40.487c0-1.205-.41-1.936-1.218-2.171a4.006,4.006,0,0,0-1.149-.123h-.525a.666.666,0,0,0-.75.766v3.172a.653.653,0,0,0,.738.748Zm-.372-3.841a.273.273,0,0,1,0-.034h.461a2.139,2.139,0,0,1,.874.127c.4.188.578.606.578,1.357,0,.8-.193,1.247-.625,1.448a2.012,2.012,0,0,1-.809.127h-.477a.251.251,0,0,1,0-.045Z" transform="translate(-29.646 -28.378)" fill="#fff"/>
                                                <path id="Path_4769" data-name="Path 4769" d="M43,39.01h1.636a.3.3,0,0,0,.328-.311V38.51a.3.3,0,0,0-.328-.317H42.9c-.5,0-.75.255-.75.778v3.591a.3.3,0,0,0,.316.329h.217A.308.308,0,0,0,43,42.556V41h1.385a.3.3,0,0,0,.328-.311V40.5a.3.3,0,0,0-.328-.317H43V39.05A.32.32,0,0,1,43,39.01Z" transform="translate(-33.878 -28.38)" fill="#fff"/>
                                                <g id="Order_pos" data-name="Order pos">
                                                  <path id="Path_4772" data-name="Path 4772" d="M28.058,15.768H23.234V35.02h2.525l-.8-.787-.013-.013-.012-.014a1.076,1.076,0,0,1-.2-.344h-.309V16.926h2.806V24.6h7.829v9.265H34.74a.935.935,0,0,1-.233.348l-.831.81h2.558V23.779ZM28.4,23.44v-5.7l5.812,5.7Z" transform="translate(-23.234 -15.768)" fill="#fff"/>
                                                </g>
                                                <g id="Group_7294" data-name="Group 7294" transform="translate(1.984 13.777)">
                                                  <path id="Path_4773" data-name="Path 4773" d="M30.677,52.222a.672.672,0,0,0-.482-.265.66.66,0,0,0-.379.15l-.23.217a.551.551,0,0,0-.21.411.61.61,0,0,0,.175.388l3.9,3.914a.521.521,0,0,0,.413.171.548.548,0,0,0,.437-.184l3.928-3.932a.531.531,0,0,0,.182-.371.537.537,0,0,0-.2-.4l-.262-.23a.516.516,0,0,0-.761.03c-1,1.037-1.812,1.876-2.4,2.5l-.21.22,0-.3c.011-1.484.011-1.408.011-4.886a.555.555,0,0,0-.567-.615h-.3a.547.547,0,0,0-.579.565l.009,5.218-.209-.226C32.4,54.011,31.641,53.214,30.677,52.222Z" transform="translate(-29.376 -49.038)" fill="#fff"/>
                                                </g>
                                              </g>
                                            </g>
                                          </g>
                                        </g>
                                    </g>
                                </svg>
                            </a>
                        </div>
                    </td>
                </tr>
            </ng-container>
            <ng-container *ngFor="let item of weekly_report_name">
                <ng-container *ngFor="let album of weekly_report_images[item]; let index = index">
                    <tr>
                        <td class="first-td"><div class="td-content">{{album.name}}</div></td>
                        <td class="second-td" (click)="openSwiper(index, weekly_report_images[item], 0)">
                            <div class="td-content">
                              <div class="td-image-preview">
                                <ng-container *ngIf="album.type === 'Pdf' || album.type === 'pdf' || album.type === 'PDF'">
                                  <!-- <span class="preview-image-new white-bordered absolute-position">{{ '.' + album.type | lowercase }}</span> -->
                                  <app-pdfjs-preview
                                    class="preview-image-new white-bordered absolute-position"
                                    style="display: flex; cursor: pointer; width: 68px;"
                                    type="pdf"
                                    (click)="openSwiper(index, ataPdfs, 0)"
                                    [pdfUrls]="[album['file_path']]"
                                    [deleted]=""
                                    [canRemove]="false"
                                    [index]="'0'"
                                    [active]="'0'"
                                    [canvas_width]="25"
                                    [canvas_height]="15"
                                    [svg_width]="25"
                                    [svg_height]="17"
                                    [borderRadius]="'0px 0px 0px 0px'"
                                    [folder]="false"
                                    >
                                  </app-pdfjs-preview>
                                </ng-container>
                                <ng-container *ngIf="album.type !== 'Pdf' || album.type !== 'pdf' || album.type !== 'PDF'">
                                  <img class="preview-image-new white-bordered absolute-position" [src]="album.file_path"/>
                                </ng-container>
                                <div class="folder-svg">
                                    <svg id="Group_4062" data-name="Group 4062" xmlns="http://www.w3.org/2000/svg" width="100%" height="100%" viewBox="0 0 67.478 58.682">
                                        <g id="Skapad_mapp" data-name="Skapad mapp">
                                            <path id="Path_754" data-name="Path 754" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#fff"/>
                                            <path id="Path_755" data-name="Path 755" d="M78.268,25.318l-30.907-.084-3.809-4.348a2.346,2.346,0,0,0-2.023-1.257H22.056a6.874,6.874,0,0,0-7.063,7.2V73.687a4.4,4.4,0,0,0,4.1,4.625H78.268a4.4,4.4,0,0,0,4.1-4.625V29.943A4.4,4.4,0,0,0,78.268,25.318Z" transform="translate(-14.891 -19.629)" fill="#82a7e2" opacity="0.999"/>
                                            <path id="Path_756" data-name="Path 756" d="M78.182,26.544H19.016a3.881,3.881,0,0,0-4.1,3.587l.09,27.223a3.161,3.161,0,0,0,.324,1.393,3.771,3.771,0,0,0,1.489,1.58,4.483,4.483,0,0,0,2.288.615H78.272a3.882,3.882,0,0,0,4.1-3.588l-.09-27.223A3.88,3.88,0,0,0,78.182,26.544Z" transform="translate(-14.916 -4.818)" fill="#82a7e2"/>
                                        </g>
                                    </svg>
                                </div>
                            </div>
                                <span class="td-desc">{{album.document_name.substring(0, 20)}}</span>
                            </div>
                        </td>
                        <td class="thrth-td"><div class="td-content">{{album.description}}</div></td>
                        <td class="fourth-td"><div class="td-content">{{album?.created_at}}</div></td>
                        <td class="fiveth-td">
                            <div class="td-content">
                                <a [href]="downloadActive(album)" target="_blank" class="btn btn-border" download="fileName.pdf">
                                    <svg xmlns="http://www.w3.org/2000/svg" width="13" height="21.947" viewBox="0 0 13 21.947">
                                        <g id="Group_8914" data-name="Group 8914" transform="translate(0 0)">
                                            <g id="Group_7764" data-name="Group 7764">
                                              <g id="Group_7318" data-name="Group 7318">
                                                <g id="Group_7312" data-name="Group 7312">
                                                  <g id="Component_260_14" data-name="Component 260 – 14">
                                                    <path id="Path_4767" data-name="Path 4767" d="M28.384,42.891a.311.311,0,0,0,.328-.329v-1.5h.45a3.568,3.568,0,0,0,.912-.1,1.277,1.277,0,0,0,.948-1.341,1.245,1.245,0,0,0-.743-1.28,3.278,3.278,0,0,0-1.147-.147H28.6a.668.668,0,0,0-.738.766v3.6a.305.305,0,0,0,.316.329Zm.328-3.859c0-.014,0-.025,0-.034h.449a1.978,1.978,0,0,1,.718.081c.14.059.269.169.269.566a.544.544,0,0,1-.276.542,1.885,1.885,0,0,1-.676.081h-.486Z" transform="translate(-25.852 -28.38)" fill="#fff"/>
                                                    <path id="Path_4768" data-name="Path 4768" d="M35.685,42.879a3.882,3.882,0,0,0,1.179-.158A2.111,2.111,0,0,0,38.1,40.487c0-1.205-.41-1.936-1.218-2.171a4.006,4.006,0,0,0-1.149-.123h-.525a.666.666,0,0,0-.75.766v3.172a.653.653,0,0,0,.738.748Zm-.372-3.841a.273.273,0,0,1,0-.034h.461a2.139,2.139,0,0,1,.874.127c.4.188.578.606.578,1.357,0,.8-.193,1.247-.625,1.448a2.012,2.012,0,0,1-.809.127h-.477a.251.251,0,0,1,0-.045Z" transform="translate(-29.646 -28.378)" fill="#fff"/>
                                                    <path id="Path_4769" data-name="Path 4769" d="M43,39.01h1.636a.3.3,0,0,0,.328-.311V38.51a.3.3,0,0,0-.328-.317H42.9c-.5,0-.75.255-.75.778v3.591a.3.3,0,0,0,.316.329h.217A.308.308,0,0,0,43,42.556V41h1.385a.3.3,0,0,0,.328-.311V40.5a.3.3,0,0,0-.328-.317H43V39.05A.32.32,0,0,1,43,39.01Z" transform="translate(-33.878 -28.38)" fill="#fff"/>
                                                    <g id="Order_pos" data-name="Order pos">
                                                      <path id="Path_4772" data-name="Path 4772" d="M28.058,15.768H23.234V35.02h2.525l-.8-.787-.013-.013-.012-.014a1.076,1.076,0,0,1-.2-.344h-.309V16.926h2.806V24.6h7.829v9.265H34.74a.935.935,0,0,1-.233.348l-.831.81h2.558V23.779ZM28.4,23.44v-5.7l5.812,5.7Z" transform="translate(-23.234 -15.768)" fill="#fff"/>
                                                    </g>
                                                    <g id="Group_7294" data-name="Group 7294" transform="translate(1.984 13.777)">
                                                      <path id="Path_4773" data-name="Path 4773" d="M30.677,52.222a.672.672,0,0,0-.482-.265.66.66,0,0,0-.379.15l-.23.217a.551.551,0,0,0-.21.411.61.61,0,0,0,.175.388l3.9,3.914a.521.521,0,0,0,.413.171.548.548,0,0,0,.437-.184l3.928-3.932a.531.531,0,0,0,.182-.371.537.537,0,0,0-.2-.4l-.262-.23a.516.516,0,0,0-.761.03c-1,1.037-1.812,1.876-2.4,2.5l-.21.22,0-.3c.011-1.484.011-1.408.011-4.886a.555.555,0,0,0-.567-.615h-.3a.547.547,0,0,0-.579.565l.009,5.218-.209-.226C32.4,54.011,31.641,53.214,30.677,52.222Z" transform="translate(-29.376 -49.038)" fill="#fff"/>
                                                    </g>
                                                  </g>
                                                </g>
                                              </g>
                                            </g>
                                        </g>
                                    </svg>
                                </a>
                            </div>
                        </td>
                    </tr>
                </ng-container>
            </ng-container>
        </tbody>
    </table>
</div>



      <div *ngIf="documentsImagesKeyList && documentsImagesKeyList.length">
        <h3 class="heading">KS {{ "Images" | translate }}</h3>
        <br />
        <div *ngFor="let key of documentsImagesKeyList">
          <h5 class="heading">{{ key }}</h5>
          <div class="d-flex flex-wrap docImages">
            <div
              class="panel panel-default documentImage"
              *ngFor="
                let image of documentsImagesList[key]['images'];
                let index = index
              "
            >
              <div class="panel-body">
                <div
                  (click)="openSwiper(index, documentsImagesList[key]['images'], 0)"
                  class="zoom"
                  data-title="Fotos"
                  data-footer="Fotos"
                  data-type="image"
                  data-toggle="lightbox"
                >
                  <div *ngIf="image.Url.endsWith('.pdf')" class="pdf-placeholder">
                    <span class="material-icons icon-display">
                      picture_as_pdf
                    </span>
                  </div>
                  <img
                    *ngIf="!image.Url.endsWith('.pdf')"
                    class="desktop-show-logo"
                    [src]="image.Url"
                  />
                  <span class="overlay"
                    ><i class="glyphicon glyphicon-fullscreen"></i
                  ></span>
                  <p class="imgName">
                    {{
                      image.name.length < 20
                        ? image.name
                        : image.name.substring(0, 20) + "..."
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>

          <div class="d-flex flex-wrap docImages">
            <div
              class="panel panel-default documentImage"
              *ngFor="
                let image of documentsImagesList[key]['pdfs'];
                let index = index
              "
            >
              <div class="panel-body">
                <div
                  (click)="openSwiper(index, documentsImagesList[key]['pdfs'], 0)"
                  class="zoom"
                  data-title="Fotos"
                  data-footer="Fotos"
                  data-type="image"
                  data-toggle="lightbox"
                >
                  <img
                    class="desktop-show-logo"
                    [src]="image.image_path?.split(',')[0]"
                  />
                  <span class="overlay"
                    ><i class="glyphicon glyphicon-fullscreen"></i
                  ></span>
                  <p class="imgName">
                    {{
                      image.name.length < 20
                        ? image.name
                        : image.name.substring(0, 20) + "..."
                    }}
                  </p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
  <!--    <div
        *ngIf="ataImages.length || ataPdfs.length"
        class="d-flex flex-wrap wrImages"
      >
        <h3 class="heading">{{ "ATA" | translate }} {{ "Images" | translate }}</h3>
        <br />
        <div
          class="panel panel-default documentImage"
          *ngFor="let image of ataImages; let index = index"
        >
          <div class="panel-body">
            <div
              (click)="openSwiper(index, ataImages, 0)"
              class="zoom"
              data-title="Fotos"
              data-footer="Fotos"
              data-type="image"
              data-toggle="lightbox"
            >
              <img [src]="image.Url" class="desktop-show-logo" />
              <span class="overlay"
                ><i class="glyphicon glyphicon-fullscreen"></i
              ></span>
              <p class="imgName">
                {{
                  image.name.length < 20
                    ? image.name
                    : image.name.substring(0, 20) + "..."
                }}
              </p>
            </div>
          </div>
        </div>
    </div> !-->
    <!--    <div class="d-flex flex-wrap docImages">
          <div
            class="panel panel-default documentImage"
            *ngFor="let pdf of ataPdfs; let index = index"
          >
            <div class="panel-body">
              <div
                (click)="openSwiper(index, ataPdfs, 0)"
                class="zoom"
                data-title="Fotos"
                data-footer="Fotos"
                data-type="pdf"
                data-toggle="lightbox"
              >
                <img
                  class="desktop-show-logo"
                  [src]="pdf.image_path?.split(',')[0]"
                />
                <span class="overlay"
                  ><i class="glyphicon glyphicon-fullscreen"></i
                ></span>
                <p class="imgName">
                  {{
                    pdf.name.length < 20
                      ? pdf.name
                      : pdf.name.substring(0, 20) + "..."
                  }}
                </p>
              </div>
            </div>
          </div>
        </div> !-->
    <!--    <ng-container *ngIf="weekly_report_name.length">
            <div *ngFor="let item of weekly_report_name">
                <div>
                    <h4 class="heading">{{ item }}</h4>
                </div>
                <div
                    *ngIf="item.length"
                    class="d-flex flex-wrap wrImages"
                >
                    <div
                        class="panel panel-default documentImage"
                        *ngFor="let album of weekly_report_images[item]; let index = index"
                    >
                        <div class="panel-body">
                            <div *ngIf="album.type== 'Image'"
                              (click)="openSwiper(index, weekly_report_images[item], 0)"
                              class="zoom"
                              data-title="Fotos"
                              data-footer="Fotos"
                              data-type="image"
                              data-toggle="lightbox"
                            >
                                <img [src]="album.img_link" class="desktop-show-logo" />
                                <span class="overlay"><i class="glyphicon glyphicon-fullscreen"></i></span>
                            </div>
                        </div>
                        <div class="panel-body">
                            <div *ngIf="album.type== 'pdf' || album.type== 'Pdf'"
                              (click)="openSwiper(index, weekly_report_images[item], 0)"
                              class="zoom"
                              data-title="Fotos"
                              data-footer="Fotos"
                              data-type="image"
                              data-toggle="lightbox"
                            >
                                <img [src]="album.img_link" class="desktop-show-logo" />
                                <span class="overlay"><i class="glyphicon glyphicon-fullscreen"></i></span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </ng-container> !-->
    <div
      *ngIf="showAttachmentImage"
      class="card col-12X col-lg-6X mb70"
      id="looksLikeModal"
      (click)="toggleAttachmentImage($event)"
    >
      <div class="image-wrapper" *ngIf="!showPdf">
        <span class="rotate-icon-left" (click)="rotateLeft()"
          ><i class="material-icons">rotate_left</i></span
        >
        <span class="rotate-icon" (click)="rotateRight()"
          ><i class="material-icons">rotate_right</i></span
        >
        <span
          class="close-icon-right material-icons"
          (click)="showAttachmentImage = !showAttachmentImage"
          >clear</span
        >
      </div>
      <div id="image-gallery" *ngIf="!showPdf">
        <div class="image-container"></div>
      </div>
      <iframe
        style="max-height: 85vh; width: 50%; height: 100%"
        [src]="currentAttachmentPdf"
        *ngIf="showPdf"
      ></iframe>
    </div>
</div>
<ng-template #otherComponent>
  <app-gallery
    *ngIf="swiper.images.length"
    [swiper]="swiper"
    [canRemove]="false"
    (removeImageEvent)="removeSwiperImage($event)"
    (closeSwiperEvent)="closeSwiper()"
    [server]="true"
  >
  </app-gallery>
  <app-gallery
    *ngIf="swiperSupplierInvoice.images.length"
    [swiper]="swiperSupplierInvoice"
    [canRemove]="false"
    (closeSwiperEvent)="closeSwiperSupplierInvoice($event)"
    [server]="true"
  >
  </app-gallery>
</ng-template>
<ng-container *ngIf="isPDFViewer; else otherComponent">
  <app-pdfjs-viewer
    *ngIf="swiper.images.length"
    [swiper]="swiper"
    [canRemove]="false"
    [server]="true"
    (removeImageEvent)="removeSwiperImage($event)"
    (closeSwiperEvent)="closeSwiper()"
  ></app-pdfjs-viewer>
  <app-pdfjs-viewer
    *ngIf="swiperSupplierInvoice.images.length"
    [swiper]="swiperSupplierInvoice"
    [canRemove]="false"
    [server]="true"
    (closeSwiperEvent)="closeSwiperSupplierInvoice($event)"
></app-pdfjs-viewer>
</ng-container>
