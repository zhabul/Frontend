<div class="container-fluidW px-0W l0" style="margin-top: -11px">
    <div class="card col-md-12X col-lg-6X col-lg-8W">
      <div class="form-heading">
        <div class="d-flex align-items-center border-h-project px-4 py-2">
          <div
          (click)="redirectTo()"
            routerLinkActive="active"
            [routerLinkActiveOptions]="{ exact: true }"
            id="topFeeder"
            >
            <!-- <span class="badgeX badge-darkX material-icons top1px posRel">
              arrow_back
            </span> -->
            <svg
              _ngcontent-dfb-c33=""
              xmlns:xlink="http://www.w3.org/1999/xlink"
              height="29.342"
              viewBox="0 0 34.604 29.342"
              width="34.604"
              xmlns="http://www.w3.org/2000/svg"
              >
              <defs _ngcontent-dfb-c33="">
                <clipPath _ngcontent-dfb-c33="" id="clip-path">
                  <rect
                    _ngcontent-dfb-c33=""
                    data-name="Rectangle 15829"
                    fill="none"
                    height="29.342"
                    id="Rectangle_15829"
                    width="34.604"
                  ></rect>
                </clipPath>
              </defs>
              <g
                  _ngcontent-dfb-c33=""
                  data-name="Group 4372"
                  id="Group_4372"
                  transform="translate(0 0)"
                >
                <g
                    _ngcontent-dfb-c33=""
                    clip-path="url(#clip-path)"
                    data-name="Group 4371"
                    id="Group_4371"
                    transform="translate(0 0)"
                  >
                  <path
                    _ngcontent-dfb-c33=""
                    d="M33.735,13.5c-14.991,0-24.041,0-28.226.069L3.632,13.6,5,12.316C6.115,11.264,8.731,8.8,15.68,2.068a.625.625,0,0,0,.251-.519c0-.111-.124-.262-.244-.408l-.8-.914C14.716.061,14.615,0,14.483,0c-.044,0-.182.055-.386.259L.293,14.052v0A1.009,1.009,0,0,0,.3,15.481L13.987,29.1a1.016,1.016,0,0,0,.451.238c.153,0,.244-.072.528-.358l.742-.79a.963.963,0,0,0,.177-.445c0-.2-.153-.423-.5-.725-4.779-4.64-8.245-7.92-10.33-9.771L3.613,15.969l1.935.015c4.256.034,12.819.034,28.364.034a.656.656,0,0,0,.691-.743V14.2c0-.209,0-.7-.868-.7"
                    data-name="Path 1822"
                    fill="#82a7e2"
                    id="Path_1822"
                    transform="translate(0 0)"
                  ></path>
                </g>
              </g>
            </svg>
          </div>

          <!-- <div class="project text-muted w-100 ml-3 mt-1">
            <h4 class="posRel fs-18 title-project-color title-head-wrapp">
              {{ project.CustomName }} {{ project.name }}

            </h4>

          </div> -->
          <div class="project text-muted">
            <div [ngClass]="projects_for_select.length > 1 && selectOpen ? 'toggle-project':'none-toggle-project'">


              <h4 class="posRel fs-18 title-project-color title-head-wrapp"
                (click)="toggleselectOpen($event)">
                <div class="project-name-len"> {{ project.CustomName }} {{ project.name }} </div>
                <i class="material-icons email" *ngIf="projects_for_select.length > 1">
                  expand_more
                </i>
              </h4>
              <div
                class="custom-select-for-project"
                *ngIf="projects_for_select.length > 1 && selectOpen"
                style="background-color:#C2D8FA">

                <div>
                  <ng-template #recursiveList let-projects>
                    <div *ngFor="let item of projects">
                      <div style="display:grid; grid-template-columns: 178px 1fr 1fr;color:black"
                        (click)="selectProject(item.id)">

                        <div  [ngStyle]="{'padding-left': (item.level * 7.5) + 'px'}" style="margin-top: -1px;cursor: pointer;" >
                          <div >
                            <div  [ngStyle]="{
                                  'background-color': project_id == item.id? hover : '#E3E9DD',
                                  'border-bottom': !item.level ? 'none':'1px solid var(--border-color)',
                                  'border-left': !item.level ? 'none':'1px solid var(--border-color)'}"
                                  style="border-left: 1px solid var(--border-color);
                                        border-bottom:1px solid var(--border-color);
                                        position:relative;
                                        border-top:1px solid var(--border-color);
                                        padding-left: 10px;"
                                        [class.active]="project_id == item.id"
                                    >
                                  {{item.name}}
                            </div>
                          </div>
                        </div>
                        <div [ngStyle]="{'background-color': project_id == item.id? hover : '#E3E9DD'}"
                             style="border-bottom:1px solid var(--border-color);
                                    padding-left: 10px;cursor: pointer;"
                                         [class.active]="project_id == item.id">
                                    {{item.CustomName}}
                        </div>
                        <div  [ngStyle]="{'background-color': project_id == item.id? hover : '#E3E9DD'}"
                              style="border-bottom:1px solid var(--border-color);
                              padding-left: 10px;cursor: pointer;"
                                   [class.active]="project_id == item.id" >
                              {{item.CustomName}}
                        </div>
                      </div>
                      <div *ngIf="item?.activities.length > 0">
                        <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: item.activities }"></ng-container>
                      </div>
                    </div>
                  </ng-template>
                  <ng-container *ngTemplateOutlet="recursiveList; context:{ $implicit: projects }"></ng-container>
                </div>
              </div>
            </div>
          </div>
          <!-- <h4 class="mb-0">{{ "New Ata" | translate }} {{ project.Name }}</h4> -->
        </div>
        <div class="triangle d-flex" (click)="buttonNameToggle($event)">
          <a
            [class.border-brand-press]="buttonToggleProject == true"
            class="btn border-brand projekt btn-icon-postion ml-4"
            (mouseenter)="enter()"
            (mouseleave)="leave()"
            *ngIf="buttonName == 'Project Management' && userDetails?.show_project_Management"
          >
            <div class="project-content">
              <button
                [class.button-press]="buttonToggleProject == true"
                [ngClass]="currentClass"
                class="btn project-button bg-transparent"
              >
                {{ buttonName | translate }}
              </button>
              <svg
                [ngClass]="currentClass"
                id="Group_306"
                *ngIf="buttonToggleProject == false"
                data-name="Group 306"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="15"
                height="8"
                viewBox="0 0 15 8"
              >
                <defs>
                  <clipPath id="clip-path">
                    <path
                      id="Path_758"
                      data-name="Path 758"
                      d="M0,.274H15v-8H0Z"
                      transform="translate(0 7.726)"
                      fill="#82a7e2"
                    />
                  </clipPath>
                </defs>
                <g
                  id="Group_305"
                  data-name="Group 305"
                  clip-path="url(#clip-path)"
                >
                  <g
                    id="Group_304"
                    data-name="Group 304"
                    transform="translate(0 0)"
                  >
                    <path
                      id="Path_757"
                      data-name="Path 757"
                      d="M.035.041,6.668,6.6a.872.872,0,0,0,.678.249h.075A.872.872,0,0,0,8.1,6.6L14.695.041a.665.665,0,0,0,.17-.5.52.52,0,0,0-.32-.435l-.226-.124a1.251,1.251,0,0,0-.641-.14.784.784,0,0,0-.565.264L7.384,4.7,1.655-.891a.784.784,0,0,0-.565-.264,1.251,1.251,0,0,0-.641.14L.186-.891a.52.52,0,0,0-.32.435.665.665,0,0,0,.17.5"
                      transform="translate(0.136 1.156)"
                      fill="currentColor"
                    />
                  </g>
                </g>
              </svg>

              <svg
                transform="rotate(180)"
                id="Group_306"
                *ngIf="buttonToggleProject == true"
                data-name="Group 306"
                xmlns="http://www.w3.org/2000/svg"
                xmlns:xlink="http://www.w3.org/1999/xlink"
                width="15"
                height="8"
                viewBox="0 0 15 8"
              >
                <defs>
                  <clipPath id="clip-path">
                    <path
                      id="Path_758"
                      data-name="Path 758"
                      d="M0,.274H15v-8H0Z"
                      transform="translate(0 7.726)"
                      fill="#82a7e2"
                    />
                  </clipPath>
                </defs>
                <g
                  id="Group_305"
                  data-name="Group 305"
                  clip-path="url(#clip-path)"
                >
                  <g
                    id="Group_304"
                    data-name="Group 304"
                    transform="translate(0 0)"
                  >
                    <path
                      id="Path_757"
                      data-name="Path 757"
                      d="M.035.041,6.668,6.6a.872.872,0,0,0,.678.249h.075A.872.872,0,0,0,8.1,6.6L14.695.041a.665.665,0,0,0,.17-.5.52.52,0,0,0-.32-.435l-.226-.124a1.251,1.251,0,0,0-.641-.14.784.784,0,0,0-.565.264L7.384,4.7,1.655-.891a.784.784,0,0,0-.565-.264,1.251,1.251,0,0,0-.641.14L.186-.891a.52.52,0,0,0-.32.435.665.665,0,0,0,.17.5"
                      transform="translate(0.136 1.156)"
                      fill="#FF7F00"
                    />
                  </g>
                </g>
              </svg>
            </div>
          </a>

          <ng-container *ngIf="buttonToggleProject == true && showSubProject">
            <a
              class="btn sub-project-button btn-icon-postion text-uppercase"
              routerLinkActive="active"
              [routerLink]="['/projects/newSubProject', project.id]"
              (mouseenter)="enterSub()"
              (mouseleave)="leaveSub()"
              [ngClass]="subsClass"
            >
              <svg
                xmlns="http://www.w3.org/2000/svg"
                class="add-icon"
                width="30"
                viewBox="0 0 24 24"
                fill="currentColor"
              >
                <path
                  fill-rule="evenodd"
                  d="M10 18a8 8 0 100-16 8 8 0 000 16zm1-11a1 1 0 10-2 0v2H7a1 1 0 100 2h2v2a1 1 0 102 0v-2h2a1 1 0 100-2h-2V7z"
                  clip-rule="evenodd"
                />
              </svg>
              {{ "New sub project/activity" | translate }}</a
            >
          </ng-container>
        </div>
      </div>
      <div hiddenX class="whatevs" *ngIf="buttonToggleProject == true"
        [ngClass]="buttonName == 'Project Management' ? 'animatedShow' : 'd-none'"
        id="collapseExampleXProject">

        <menu-bar [project]="project" [project_id]="project_id"></menu-bar>

        <div class="form-wrapper-project">
          <div class="form-column-wrapper-project form-column-wrapper-position-project">
            <div class="form-column-project">
              <div class="form-group">
                <label for="projectName">{{ "Project" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="projectName"
                  [value]="project.CustomName + ' ' + project.name"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="contactPerson">{{
                  "Contact person" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="contactPerson"
                  [value]="project.deliveryFullName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="contactPerson">{{ "Telephone" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="telephone"
                  [value]="project.deliveryMobileNumber"
                  readonly
                />
              </div>
            </div>
            <div class="form-column-project">
              <div class="form-group">
                <label for="street">{{
                  "Street and Number" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="street"
                  [value]="project.street"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="zip">{{ "Zip code" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="zip"
                  [value]="project.zip"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="name">{{ "City" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="name"
                  [value]="project.city"
                  readonly
                />
              </div>
            </div>
            <div class="form-column-project">
              <div class="form-group">
                <label for="client">{{ "Client" | translate }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="client"
                  [value]="project.clientName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="clientContactPerson">{{
                  "Contact person" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="clientContactPerson"
                  [value]="project.attestWorkerFullName"
                  readonly
                />
              </div>
              <div class="form-group">
                <label for="clientContactPerson">{{
                  "Telephone" | translate
                }}</label>
                <input
                  type="text"
                  class="form-control project-hentering-input"
                  id="clientContactPerson"
                  [value]="project.clientMobileNumber"
                  readonly
                />
              </div>
            </div>
          </div>
        </div>
      </div>

    </div>
  </div>