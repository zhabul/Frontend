<div class="d-flex align-items-center justify-content-between my-4">
  <h3>{{ "Client Attest History" | translate }}</h3>
  <div class="d-flex align-items-center">
    <input
      (input)="filterClientAttestHistory()"
      type="text"
      class="form-control mr-1"
      [(ngModel)]="articleName"
      placeholder="{{ 'Search by name' | translate }}"
    />
    <select
      (change)="filterClientAttestHistory()"
      class="form-control mr-1"
      [(ngModel)]="weeklyReportNameFilter"
      id="weeklyReportNameFilter"
    >
      <option value="">{{ "Filter by weekly report" | translate }}</option>
      <option
        [value]="weeklyReportName"
        *ngFor="let weeklyReportName of uniqueWeeklyReportNames"
      >
        {{ weeklyReportName }}
      </option>
    </select>
    <select
      (change)="filterClientAttestHistory()"
      class="form-control"
      [(ngModel)]="emailFilter"
      id="emailFilter"
    >
      <option value="">{{ "Filter by email" | translate }}</option>
      <option [value]="email" *ngFor="let email of uniqueEmails">
        {{ email }}
      </option>
    </select>
  </div>
</div>
<table class="table table-striped table-sm">
  <thead>
    <tr>
      <th>
        {{
          showingKS
            ? ("Cost Summary" | translate)
            : ("Weekly Report" | translate)
        }}
      </th>
      <th>{{ "Year" | translate }}</th>
      <th>{{ "Name" | translate }}</th>
      <th>{{ "Type" | translate }}</th>
      <th>{{ "Email" | translate }}</th>
      <th>{{ "Status" | translate }}</th>
      <th>{{ "Comment" | translate }}</th>
    </tr>
  </thead>
  <tbody>
    <tr *ngFor="let attest of filterClientAttestHistory()">
      <td>{{ attest.wrName }}</td>
      <td>{{ attest.wrYear }}</td>
      <td>{{ attest.name }}</td>
      <td>{{ attest.type | translate }}</td>
      <td>{{ attest.email }}</td>
      <td>{{ (attest.status == 1 ? "Accepted" : "Declined") | translate }}</td>
      <td>{{ attest.comment }}</td>
    </tr>
  </tbody>
</table>
